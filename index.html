<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>OnlyKeks ‚Äì Post, die schmeckt</title>
  <meta name="description" content="Post, die man essen kann. Ein Keks. Eine Nachricht. Eine echte √úberraschung." />

  <style>
    :root{
      --bg:#070707;
      --panel:#101010;
      --panel2:#0c0c0c;
      --border:#1e1e1e;
      --fg:#ffffff;
      --muted:#b6b6b6;
      --accent:#6cff9a;
      --accent2:#ff5cff;
      --shadow: 0 18px 60px rgba(0,0,0,.55);
      --r:22px;
      --max:1100px;
    }
    *{box-sizing:border-box;margin:0;padding:0}
    html{scroll-behavior:smooth}
    body{
      background: radial-gradient(1200px 700px at 20% -10%, rgba(108,255,154,.10), transparent 60%),
                  radial-gradient(900px 600px at 90% 10%, rgba(255,92,255,.10), transparent 55%),
                  var(--bg);
      color:var(--fg);
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      overflow-x:hidden;
    }
    a{color:inherit;text-decoration:none}
    .wrap{max-width:var(--max);margin:0 auto;padding:24px}
    .pill{
      display:inline-flex;gap:10px;align-items:center;
      padding:10px 14px;border-radius:999px;
      border:1px solid var(--border);
      background: rgba(16,16,16,.7);
      backdrop-filter: blur(8px);
      color:var(--muted);
      font-size:.92rem;
    }
    .topbar{display:flex;justify-content:space-between;align-items:center;gap:14px;padding-top:8px}
    .logo{
      display:flex;align-items:center;gap:10px;font-weight:800;letter-spacing:.2px
    }
    .dot{
      width:12px;height:12px;border-radius:50%;
      background: linear-gradient(135deg,var(--accent),var(--accent2));
      box-shadow: 0 0 18px rgba(108,255,154,.25), 0 0 22px rgba(255,92,255,.18);
    }
    .btn{
      display:inline-flex;align-items:center;justify-content:center;gap:10px;
      padding:14px 18px;border-radius:999px;
      border:1px solid var(--border);
      background: rgba(16,16,16,.75);
      color:var(--fg); font-weight:750;
      cursor:pointer;
      transition: transform .15s ease, border-color .15s ease, background .15s ease;
      user-select:none;
    }
    .btn:hover{transform: translateY(-1px); border-color: rgba(108,255,154,.35)}
    .btn.primary{
      background: linear-gradient(135deg, rgba(108,255,154,.95), rgba(255,92,255,.35));
      color:#000;
      border-color: transparent;
      box-shadow: 0 18px 60px rgba(108,255,154,.12);
    }
    .btn.small{padding:10px 12px;font-size:.92rem}
    .hero{
      padding:18px 0 24px;
      min-height: calc(100svh - 70px);
      display:grid;align-items:center;
    }
    .heroGrid{
      display:grid;gap:26px;
      grid-template-columns: 1.15fr .85fr;
      align-items:center;
    }
    @media (max-width: 980px){
      .heroGrid{grid-template-columns: 1fr; }
    }
    h1{
      font-size: clamp(2.2rem, 4.8vw, 4rem);
      line-height:1.02;
      letter-spacing:-.02em;
      margin: 14px 0 10px;
    }
    .sub{color:var(--muted);font-size: clamp(1.05rem, 1.6vw, 1.22rem);line-height:1.45;max-width: 52ch}
    .ctaRow{display:flex;gap:12px;flex-wrap:wrap;margin-top:18px}
    .miniProof{display:flex;gap:10px;flex-wrap:wrap;margin-top:16px}
    .badge{
      display:inline-flex;gap:10px;align-items:center;
      padding:10px 12px;border-radius:999px;
      border:1px solid var(--border);
      background: rgba(16,16,16,.55);
      color:var(--muted);
      font-size:.9rem;
    }

    .videoCard{
      border:1px solid var(--border);
      background: linear-gradient(180deg, rgba(16,16,16,.75), rgba(10,10,10,.65));
      border-radius: var(--r);
      overflow:hidden;
      box-shadow: var(--shadow);
      position:relative;
      aspect-ratio: 16/10;
    }
    .videoCard::after{
      content:"";
      position:absolute;inset:-2px;
      background: radial-gradient(600px 200px at 30% 0%, rgba(108,255,154,.18), transparent 65%),
                  radial-gradient(500px 240px at 80% 10%, rgba(255,92,255,.14), transparent 70%);
      pointer-events:none;
      mix-blend-mode: screen;
    }
    video{
      width:100%;height:100%;
      object-fit:cover;display:block;
      opacity:.95;
    }
    .fallback{
      position:absolute;inset:0;
      background: radial-gradient(900px 420px at 20% 20%, rgba(108,255,154,.20), transparent 55%),
                  radial-gradient(700px 340px at 80% 30%, rgba(255,92,255,.16), transparent 60%),
                  linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,0));
      display:flex;align-items:flex-end;justify-content:center;
      padding:14px;
      color:rgba(255,255,255,.8);
      font-weight:700;
      letter-spacing:.2px;
    }

    .section{padding: 40px 0}
    .sectionTitle{
      font-size: clamp(1.35rem, 2.2vw, 2rem);
      margin-bottom: 10px;
      letter-spacing:-.01em;
    }
    .sectionSub{color:var(--muted);margin-bottom:18px;max-width: 70ch;line-height:1.45}
    .cards3{
      display:grid;gap:16px;
      grid-template-columns: repeat(3,1fr);
    }
    @media (max-width: 980px){ .cards3{grid-template-columns:1fr} }
    .card{
      border:1px solid var(--border);
      background: rgba(16,16,16,.55);
      border-radius: var(--r);
      padding:16px;
      box-shadow: 0 10px 40px rgba(0,0,0,.35);
    }
    .card h3{font-size:1.05rem;margin-bottom:8px}
    .card p{color:var(--muted);line-height:1.45;font-size:.98rem}

    /* FLOW */
    .flowShell{
      border:1px solid var(--border);
      background: rgba(10,10,10,.55);
      border-radius: calc(var(--r) + 6px);
      overflow:hidden;
      box-shadow: var(--shadow);
    }
    .flowTop{
      padding:18px 18px 12px;
      display:flex;align-items:center;justify-content:space-between;gap:14px;
      border-bottom:1px solid var(--border);
      background: linear-gradient(180deg, rgba(16,16,16,.75), rgba(12,12,12,.55));
    }
    .steps{
      display:flex;gap:8px;flex-wrap:wrap;
    }
    .stepBtn{
      padding:10px 12px;border-radius:999px;
      border:1px solid var(--border);
      background: rgba(16,16,16,.55);
      color:var(--muted);
      cursor:pointer;
      font-weight:750;
    }
    .stepBtn.active{
      color:#000;
      border-color: transparent;
      background: linear-gradient(135deg, rgba(108,255,154,.95), rgba(255,92,255,.35));
    }
    .flowBody{padding:18px}
    .row{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    @media (max-width: 720px){ .row{grid-template-columns:1fr} }
    label{display:block;color:var(--muted);font-size:.95rem;margin:10px 0 8px}
    input, textarea, select{
      width:100%;
      padding:12px 12px;
      border-radius: 16px;
      border:1px solid var(--border);
      background: rgba(16,16,16,.7);
      color: var(--fg);
      outline:none;
    }
    textarea{resize:none;min-height: 110px}
    .chips{display:flex;gap:10px;flex-wrap:wrap;margin-bottom:12px}
    .chip{
      padding:9px 12px;border-radius:999px;
      border:1px solid var(--border);
      background: rgba(16,16,16,.55);
      color: var(--fg);
      cursor:pointer;
      font-size:.92rem;
      transition: transform .12s ease, border-color .12s ease;
      user-select:none;
    }
    .chip:hover{transform: translateY(-1px); border-color: rgba(255,255,255,.22)}
    .toggles{display:grid;gap:10px}
    .toggle{
      display:flex;justify-content:space-between;align-items:center;gap:14px;
      padding:12px 14px;border-radius: 18px;
      border:1px solid var(--border);
      background: rgba(16,16,16,.55);
    }
    .toggle small{color:var(--muted);display:block;margin-top:3px}
    .switch{
      width:52px;height:30px;border-radius:999px;
      border:1px solid var(--border);
      background: rgba(0,0,0,.35);
      position:relative; cursor:pointer; flex:0 0 auto;
    }
    .knob{
      width:24px;height:24px;border-radius:50%;
      background:#fff; position:absolute; top:2px; left:2px;
      transition: transform .15s ease;
    }
    .switch.on{
      background: rgba(108,255,154,.25);
      border-color: rgba(108,255,154,.35);
    }
    .switch.on .knob{transform: translateX(22px)}
    .footerRow{
      display:flex;justify-content:space-between;align-items:center;gap:12px;flex-wrap:wrap;
      margin-top:16px;
    }
    .priceBox{
      padding:10px 12px;border-radius:999px;
      border:1px solid var(--border);
      background: rgba(16,16,16,.55);
      color:var(--muted);
      font-weight:800;
    }
    .sum{
      border:1px solid var(--border);
      background: rgba(16,16,16,.55);
      border-radius: var(--r);
      padding:14px;
      color: var(--muted);
      line-height:1.5;
    }
    .sum strong{color:var(--fg)}
    .note{color:var(--muted);font-size:.93rem;line-height:1.45;margin-top:10px}
    .hr{height:1px;background:var(--border);margin:18px 0}
    .legal{color:var(--muted);font-size:.9rem;padding: 26px 0 42px}
  </style>
</head>

<body>
  <div class="wrap">
    <div class="topbar">
      <div class="logo"><span class="dot"></span> OnlyKeks</div>
      <div style="display:flex; gap:10px; align-items:center;">
        <span class="pill">‚ú® 1 Minute ¬∑ super s√º√ü</span>
        <a class="btn small" href="#flow">Keks gestalten</a>
      </div>
    </div>

    <!-- HERO -->
    <section class="hero">
      <div class="heroGrid">
        <div>
          <span class="pill">Post die schmeckt ¬∑ Reply-Keks ready</span>
          <h1>Post, die man essen kann.</h1>
          <p class="sub">Ein Keks. Eine Nachricht. Eine echte √úberraschung. Optional kann der Empf√§nger direkt mit einem Keks zur√ºckantworten.</p>

          <div class="ctaRow">
            <a class="btn primary" href="#flow">Jetzt verschicken</a>
            <a class="btn" href="#how">So funktioniert‚Äôs</a>
          </div>

          <div class="miniProof">
            <span class="badge">üç™ Echter Keks</span>
            <span class="badge">‚úçÔ∏è Pers√∂nlich</span>
            <span class="badge">üöÄ Schnell verschickt</span>
            <span class="badge">üîí Sicher bezahlt</span>
          </div>
        </div>

        <div class="videoCard">
          <video autoplay loop muted playsinline preload="metadata" onerror="this.remove()">
            <source src="assets/hero-loop.mp4" type="video/mp4">
          </video>
          <div class="fallback">Hero-Loop Video (assets/hero-loop.mp4)</div>
        </div>
      </div>
    </section>

    <!-- HOW / SCROLL STORY -->
    <section id="how" class="section">
      <h2 class="sectionTitle">So funktioniert‚Äôs (ohne Denken)</h2>
      <p class="sectionSub">Scroll = Gef√ºhl + Handling. Keine Textw√ºste. Drei Micro-Loops, fertig.</p>

      <div class="cards3">
        <div class="card">
          <div class="videoCard" style="aspect-ratio: 16/9; margin-bottom:12px;">
            <video autoplay loop muted playsinline preload="metadata" onerror="this.remove()">
              <source src="assets/loop-pack.mp4" type="video/mp4">
            </video>
            <div class="fallback">Loop A (assets/loop-pack.mp4)</div>
          </div>
          <h3>Echter Keks im Umschlag</h3>
          <p>Packen, zu, fertig. Sieht direkt nach Geschenk aus.</p>
        </div>

        <div class="card">
          <div class="videoCard" style="aspect-ratio: 16/9; margin-bottom:12px;">
            <video autoplay loop muted playsinline preload="metadata" onerror="this.remove()">
              <source src="assets/loop-qr.mp4" type="video/mp4">
            </video>
            <div class="fallback">Loop B (assets/loop-qr.mp4)</div>
          </div>
          <h3>Pers√∂nliche Karte mit QR</h3>
          <p>Deine Worte drauf. QR macht‚Äôs interaktiv.</p>
        </div>

        <div class="card">
          <div class="videoCard" style="aspect-ratio: 16/9; margin-bottom:12px;">
            <video autoplay loop muted playsinline preload="metadata" onerror="this.remove()">
              <source src="assets/loop-scan.mp4" type="video/mp4">
            </video>
            <div class="fallback">Loop C (assets/loop-scan.mp4)</div>
          </div>
          <h3>Antwort direkt m√∂glich</h3>
          <p>Empf√§nger scannt ‚Üí kann easy einen Reply-Keks zur√ºckschicken.</p>
        </div>
      </div>
    </section>

    <!-- EMOTION -->
    <section class="section">
      <h2 class="sectionTitle">Mehr als Post. Ein Moment.</h2>
      <p class="sectionSub">√ñffnen ‚Üí L√§cheln ‚Üí ‚Äûey wie s√º√ü‚Äú ‚Üí teilen. Das ist das Produkt.</p>
      <div class="videoCard" style="aspect-ratio: 16/8;">
        <video autoplay loop muted playsinline preload="metadata" onerror="this.remove()">
          <source src="assets/emotion-loop.mp4" type="video/mp4">
        </video>
        <div class="fallback">Emotion-Loop (optional: assets/emotion-loop.mp4)</div>
      </div>
    </section>

    <!-- FLOW -->
    <section id="flow" class="section">
      <h2 class="sectionTitle">Nachricht schreiben ‚Üí Adresse ‚Üí Bezahlen</h2>
      <p class="sectionSub">3 Steps. Kein Account. Kein Warenkorb-Gebimmel. Fertig.</p>

      <div class="flowShell">
        <div class="flowTop">
          <div class="steps">
            <button class="stepBtn active" data-step="1">1 Message</button>
            <button class="stepBtn" data-step="2">2 Adresse</button>
            <button class="stepBtn" data-step="3">3 Bezahlen</button>
          </div>
          <div class="priceBox">Gesamt: <span id="total">9,90</span> ‚Ç¨</div>
        </div>

        <div class="flowBody">
          <!-- STEP 1 -->
          <div class="panel" id="s1">
            <label>Schnell-Vorlagen (antippen)</label>
            <div class="chips">
              <div class="chip" data-msg="Danke. üç™">Danke</div>
              <div class="chip" data-msg="Liebe per Post. ‚ù§Ô∏è">Liebe per Post</div>
              <div class="chip" data-msg="L√§cheln! ‚ú®">L√§cheln</div>
              <div class="chip" data-msg="Beweg dein Arsch. üòÑ">Beweg dein Arsch</div>
              <div class="chip" data-msg="Geh arbeiten. üíº">Geh arbeiten</div>
              <div class="chip" data-msg="Party heute? üéâ">Party heute?</div>
            </div>

            <label>Deine Nachricht (max. 140 Zeichen)</label>
            <textarea id="msg" maxlength="140" placeholder="Schreib was Kurzes, das knallt‚Ä¶"></textarea>

            <div class="hr"></div>

            <label>Mach ihn noch s√º√üer (max. 4, easy)</label>
            <div class="toggles">
              <div class="toggle">
                <div><strong>Schleife</strong><small>Sieht direkt nach Geschenk aus.</small></div>
                <div class="switch" data-opt="bow"><div class="knob"></div></div>
              </div>
              <div class="toggle">
                <div><strong>Herzchen</strong><small>F√ºr extra ‚Äûawww‚Äú.</small></div>
                <div class="switch" data-opt="hearts"><div class="knob"></div></div>
              </div>
              <div class="toggle">
                <div><strong>Bl√ºmchen</strong><small>Deko-Chichi, aber classy.</small></div>
                <div class="switch" data-opt="flowers"><div class="knob"></div></div>
              </div>
              <div class="toggle">
                <div><strong>Gold-Stempel</strong><small>Sticker-Look in der Vorschau/Story.</small></div>
                <div class="switch" data-opt="stamp"><div class="knob"></div></div>
              </div>
            </div>

            <div class="footerRow">
              <div></div>
              <button class="btn primary" id="to2">Weiter: Adresse</button>
            </div>
          </div>

          <!-- STEP 2 -->
          <div class="panel" id="s2" style="display:none;">
            <div class="row">
              <div>
                <label>Empf√§nger Name</label>
                <input id="name" placeholder="Vorname Nachname" />
              </div>
              <div>
                <label>E-Mail (Best√§tigung)</label>
                <input id="email" placeholder="name@mail.de" />
              </div>
            </div>

            <label>Stra√üe + Nr.</label>
            <input id="street" placeholder="Musterstra√üe 12" />

            <div class="row">
              <div>
                <label>PLZ</label>
                <input id="zip" placeholder="12345" />
              </div>
              <div>
                <label>Ort</label>
                <input id="city" placeholder="Berlin" />
              </div>
            </div>

            <div class="hr"></div>

            <label>Extras (optional)</label>
            <div class="toggles">
              <div class="toggle">
                <div><strong>+ 1 Extra-Keks</strong><small>Mehr Liebe, mehr Freude. (+4,90‚Ç¨)</small></div>
                <div class="switch" data-opt="extraCookie"><div class="knob"></div></div>
              </div>
              <div class="toggle">
                <div><strong>Geschenkbox</strong><small>Sieht direkt premium aus. (+6,90‚Ç¨)</small></div>
                <div class="switch" data-opt="giftBox"><div class="knob"></div></div>
              </div>
              <div class="toggle">
                <div><strong>Antwort-Keks aktivieren</strong><small>Empf√§nger kann easy zur√ºckschicken. (+2,90‚Ç¨)</small></div>
                <div class="switch" data-opt="reply"><div class="knob"></div></div>
              </div>
            </div>

            <div class="footerRow">
              <button class="btn" id="back1">Zur√ºck</button>
              <button class="btn primary" id="to3">Weiter: Bezahlen</button>
            </div>
          </div>

          <!-- STEP 3 -->
          <div class="panel" id="s3" style="display:none;">
            <div class="sum">
              <div><strong>Nachricht:</strong> <span id="sumMsg"></span></div>
              <div><strong>Empf√§nger:</strong> <span id="sumName"></span></div>
              <div><strong>Adresse:</strong> <span id="sumAddr"></span></div>
              <div><strong>Extras:</strong> <span id="sumExtras"></span></div>
              <div><strong>Gesamt:</strong> <span id="sumTotal"></span> ‚Ç¨</div>
            </div>

            <p class="note">
              GitHub-Pages-MVP: Zahlung l√§uft √ºber Stripe Payment Link. Damit wir deine Nachricht/Adresse sauber dem Kauf zuordnen k√∂nnen,
              speichern wir vor dem Bezahlen eine Bestell-ID im Browser. (Upgrade sp√§ter: Stripe Checkout + Webhook.)
            </p>

            <div class="footerRow">
              <button class="btn" id="back2">Zur√ºck</button>
              <a class="btn primary" id="payBtn" href="#" target="_blank" rel="noopener">Jetzt sicher bezahlen</a>
            </div>

            <p class="note" style="margin-top:12px;">
              Nach Zahlung: Screenshot/Bestellnummer + Bestell-ID an euer Fulfillment (oder sp√§ter automatisch).
              <br><strong>Bestell-ID:</strong> <span id="orderId"></span>
            </p>
          </div>

        </div>
      </div>
    </section>

    <div class="legal">
      ¬© OnlyKeks ¬∑ Post, die schmeckt ¬∑ <span style="opacity:.7">Datenschutz ¬∑ Impressum ¬∑ Kontakt</span>
    </div>
  </div>

  <script>
    // TODO: Stripe Payment Link eintragen
    const STRIPE_PAYMENT_LINK = "https://buy.stripe.com/XXXXXXXXXXXX";

    // Base price + options
    const PRICES = {
      base: 9.90,
      extraCookie: 4.90,
      giftBox: 6.90,
      reply: 2.90,
      // Deko: aktuell 0‚Ç¨ (digital / Vorschau)
      bow: 0, hearts: 0, flowers: 0, stamp: 0
    };

    const state = {
      msg: "",
      name: "",
      email: "",
      street: "",
      zip: "",
      city: "",
      opts: {
        bow:false, hearts:false, flowers:false, stamp:false,
        extraCookie:false, giftBox:false, reply:false
      }
    };

    const panels = {1: document.getElementById("s1"), 2: document.getElementById("s2"), 3: document.getElementById("s3")};
    const stepBtns = Array.from(document.querySelectorAll(".stepBtn"));

    function showStep(n){
      Object.values(panels).forEach(p => p.style.display = "none");
      panels[n].style.display = "block";
      stepBtns.forEach(b => b.classList.toggle("active", +b.dataset.step === n));
    }

    // Chips ‚Üí message
    document.querySelectorAll(".chip").forEach(ch => {
      ch.addEventListener("click", () => {
        document.getElementById("msg").value = ch.dataset.msg;
        document.getElementById("msg").dispatchEvent(new Event("input"));
      });
    });

    // Switches
    document.querySelectorAll(".switch").forEach(sw => {
      sw.addEventListener("click", () => {
        const key = sw.dataset.opt;
        state.opts[key] = !state.opts[key];
        sw.classList.toggle("on", state.opts[key]);
        updateTotal();
      });
    });

    function euro(n){
      return n.toFixed(2).replace(".", ",");
    }

    function calcTotal(){
      let t = PRICES.base;
      for(const [k,v] of Object.entries(state.opts)){
        if(v) t += (PRICES[k] || 0);
      }
      return t;
    }

    function updateTotal(){
      const t = calcTotal();
      document.getElementById("total").textContent = euro(t);
      document.getElementById("sumTotal").textContent = euro(t);
      return t;
    }

    // Inputs binding
    const msgEl = document.getElementById("msg");
    msgEl.addEventListener("input", e => state.msg = e.target.value.trim());

    ["name","email","street","zip","city"].forEach(id=>{
      const el = document.getElementById(id);
      el.addEventListener("input", e => state[id] = e.target.value.trim());
    });

    // Buttons
    document.getElementById("to2").addEventListener("click", ()=>{
      if(!state.msg || state.msg.length < 2) return alert("Bitte eine kurze Nachricht eintragen.");
      showStep(2);
    });

    document.getElementById("back1").addEventListener("click", ()=>showStep(1));
    document.getElementById("back2").addEventListener("click", ()=>showStep(2));

    document.getElementById("to3").addEventListener("click", ()=>{
      // Validate address
      if(!state.name || !state.street || !state.zip || !state.city) {
        return alert("Bitte Adresse vollst√§ndig ausf√ºllen.");
      }

      // Summary
      document.getElementById("sumMsg").textContent = state.msg;
      document.getElementById("sumName").textContent = state.name;
      document.getElementById("sumAddr").textContent = `${state.street}, ${state.zip} ${state.city}`;

      const extras = [];
      if(state.opts.extraCookie) extras.push("+1 Extra-Keks");
      if(state.opts.giftBox) extras.push("Geschenkbox");
      if(state.opts.reply) extras.push("Antwort-Keks");
      document.getElementById("sumExtras").textContent = extras.length ? extras.join(", ") : "‚Äî";

      const orderId = "OK-" + Math.random().toString(36).slice(2, 8).toUpperCase();
      document.getElementById("orderId").textContent = orderId;

      const payload = {
        orderId,
        createdAt: new Date().toISOString(),
        ...state,
        total: calcTotal()
      };
      localStorage.setItem("onlykeks_order", JSON.stringify(payload));

      // Stripe link (MVP). Prefill email where possible.
      try{
        const url = new URL(STRIPE_PAYMENT_LINK);
        if(state.email) url.searchParams.set("prefilled_email", state.email);
        // Optional: show orderId in success flow later (only works with Checkout Session, not Payment Link)
        document.getElementById("payBtn").href = url.toString();
      } catch (e){
        document.getElementById("payBtn").href = STRIPE_PAYMENT_LINK;
      }

      updateTotal();
      showStep(3);
    });

    // Step tab clicking (guarded)
    stepBtns.forEach(b=>{
      b.addEventListener("click", ()=>{
        const n = +b.dataset.step;
        if(n === 2 && (!state.msg || state.msg.length < 2)) return;
        if(n === 3 && (!state.name || !state.street || !state.zip || !state.city)) return;
        showStep(n);
      });
    });

    // Init
    updateTotal();
    showStep(1);
  </script>
</body>
</html>
