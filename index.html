<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>OnlyKeks ‚Äì Post, die schmeckt</title>
  <meta name="description" content="Schicke s√º√üe Botschaften mit direkter QR-Antwort. Reply-Keks ohne Account ‚Äì in wenigen Klicks." />

  <!-- SEO / Social -->
  <link rel="canonical" href="https://infojanschmidt-debug.github.io/keksms/" />
  <meta name="robots" content="index,follow" />
  <meta name="theme-color" content="#ff4fa3" />

  <meta property="og:title" content="OnlyKeks ‚Äì Post, die schmeckt" />
  <meta property="og:description" content="Schicke s√º√üe Botschaften mit direkter QR-Antwort. Reply-Keks ohne Account ‚Äì in wenigen Klicks." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://infojanschmidt-debug.github.io/keksms/" />
  <meta property="og:image" content="https://infojanschmidt-debug.github.io/keksms/assets/img/1000149739.jpg" />
  <meta property="og:image:alt" content="H√§nde halten einen Keks, QR wird gescannt" />

  <style>
    :root{
      /* OnlyFans-clean base */
      --bg:#ffffff;
      --ink:#0b1b2a;
      --muted:#4b5b6b;
      --line: rgba(11,27,42,.10);

      /* Deko-Chichi palette */
      --sky1:#ffe6f2;
      --sky2:#ffd3ea;
      --sky3:#fff4ea;
      --pink:#ff4fa3;
      --pink2:#ff7cc5;
      --pinkSoft: rgba(255,79,163,.14);
      --pinkSoft2: rgba(255,124,197,.12);

      --card: rgba(255,255,255,.80);
      --card2: rgba(255,255,255,.65);
      --shadow: 0 18px 50px rgba(11,27,42,.10);
      --shadow2: 0 10px 30px rgba(11,27,42,.08);
      --radius: 22px;

      --max: 1100px;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      color:var(--ink);
      background:
        radial-gradient(900px 600px at 20% 10%, rgba(255,79,163,.16), transparent 60%),
        radial-gradient(900px 600px at 90% 20%, rgba(255,124,197,.14), transparent 55%),
        linear-gradient(180deg, var(--sky1), var(--sky2) 45%, var(--sky3));
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      overflow-x:hidden;
    }

    a{color:inherit}
    .wrap{max-width:var(--max); margin:0 auto; padding:0 18px}

    /* Topbar */
    .topbar{
      position:sticky; top:0; z-index:50;
      backdrop-filter: blur(14px);
      background: rgba(255,255,255,.72);
      border-bottom:1px solid var(--line);
    }
    .topbar .inner{
      display:flex; align-items:center; justify-content:space-between;
      height:70px;
      gap:14px;
    }
    .brand{
      display:flex; align-items:center; gap:12px;
      text-decoration:none;
      min-width: 180px;
    }
    .brandMark{
      width:46px; height:46px; flex:0 0 auto; /* BIGGER */
      filter: drop-shadow(0 10px 18px rgba(11,27,42,.10));
    }
    .brandText{
      display:flex; flex-direction:column; line-height:1.05;
    }
    .brandText strong{font-size:18px; letter-spacing:.2px}
    .brandText span{font-size:12.5px; color:var(--muted)}
    nav{
      display:flex; gap:14px; align-items:center;
    }
    nav a{
      text-decoration:none;
      font-size:13.5px;
      color:var(--muted);
      padding:10px 10px;
      border-radius:12px;
      transition:.15s ease;
    }
    nav a:hover{background: rgba(255,79,163,.10); color:var(--ink)}
    .topCta{
      display:flex; gap:10px; align-items:center;
    }
    .btn{
      border:0;
      border-radius: 999px;
      padding:12px 16px;
      font-weight:700;
      cursor:pointer;
      text-decoration:none;
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:10px;
      transition: transform .12s ease, box-shadow .12s ease, background .12s ease;
      box-shadow: var(--shadow2);
      user-select:none;
    }
    .btn:active{transform: translateY(1px)}
    .btnPrimary{
      background: linear-gradient(135deg, var(--pink), var(--pink2));
      color:#fff;
    }
    .btnPrimary:hover{box-shadow: 0 14px 40px rgba(255,79,163,.22)}
    .btnGhost{
      background: rgba(255,255,255,.85);
      border:1px solid var(--line);
      color:var(--ink);
    }
    .btnGhost:hover{background: rgba(255,255,255,.98)}
    .hideSm{display:inline-flex}
    @media (max-width: 760px){
      nav{display:none}
      .hideSm{display:none}
      .topbar .inner{height:66px}
      .brandText strong{font-size:16px}
    }

    /* Hero */
    .hero{
      padding: 26px 0 10px;
      position:relative;
    }
    .heroGrid{
      display:grid;
      grid-template-columns: 1.08fr .92fr;
      gap: 20px;
      align-items:stretch;
    }
    @media (max-width: 920px){
      .heroGrid{grid-template-columns:1fr; gap:14px}
    }

    .heroCard{
      background: var(--card);
      border:1px solid var(--line);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 22px;
      position:relative;
      overflow:hidden;
    }

    .kicker{
      display:inline-flex; gap:8px; align-items:center;
      background: rgba(255,79,163,.10);
      border:1px solid rgba(255,79,163,.18);
      padding:8px 12px;
      border-radius:999px;
      font-weight:700;
      font-size:12.5px;
    }
    .kicker svg{width:16px; height:16px}

    h1{
      margin:14px 0 10px;
      font-size: 42px;
      line-height:1.05;
      letter-spacing:-.6px;
    }
    @media (max-width: 520px){
      h1{font-size:34px}
    }
    .sub{
      margin:0 0 16px;
      color: var(--muted);
      font-size: 16px;
      line-height:1.5;
      max-width: 52ch;
    }

    .miniFlow{
      display:flex; flex-wrap:wrap; gap:10px;
      margin: 12px 0 18px;
    }
    .chip{
      border:1px solid var(--line);
      background: rgba(255,255,255,.75);
      padding:10px 12px;
      border-radius: 999px;
      font-size: 13px;
      cursor:pointer;
      transition:.12s ease;
      user-select:none;
    }
    .chip:hover{transform: translateY(-1px); background: rgba(255,255,255,.95)}

    .trustbar{
      display:grid;
      grid-template-columns: repeat(4, 1fr);
      gap:10px;
      margin-top: 14px;
    }
    .trustItem{
      background: rgba(255,255,255,.70);
      border:1px solid var(--line);
      border-radius: 16px;
      padding: 10px 10px;
      display:flex; gap:10px; align-items:center;
      min-height: 54px;
    }
    .trustItem svg{width:18px; height:18px; opacity:.9}
    .trustItem b{font-size:12.5px}
    .trustItem span{display:block; font-size:11.5px; color:var(--muted); margin-top:2px}
    @media (max-width: 920px){
      .trustbar{grid-template-columns: repeat(2, 1fr)}
    }

    /* Hero media */
    .heroMedia{
      background: linear-gradient(180deg, rgba(255,255,255,.75), rgba(255,255,255,.55));
      border:1px solid var(--line);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      position:relative;
      overflow:hidden;
      min-height: 360px;
    }
    .mediaInner{
      position:absolute; inset:0;
      display:flex; align-items:center; justify-content:center;
      padding: 14px;
    }
    .mediaFrame{
      width:100%; height:100%;
      border-radius: calc(var(--radius) - 8px);
      overflow:hidden;
      position:relative;
      background: rgba(255,255,255,.6);
      border:1px solid rgba(11,27,42,.08);
    }
    .mediaFrame img, .mediaFrame video{
      width:100%; height:100%;
      object-fit:cover;
      display:block;
    }
    .mediaBadge{
      position:absolute; left:14px; top:14px;
      background: rgba(255,255,255,.82);
      border:1px solid var(--line);
      border-radius: 999px;
      padding: 8px 10px;
      display:flex; gap:8px; align-items:center;
      font-weight:800;
      font-size:12.5px;
      box-shadow: var(--shadow2);
    }
    .mediaBadge svg{width:16px; height:16px}
    .mediaNote{
      position:absolute; right:14px; bottom:14px;
      background: rgba(255,255,255,.82);
      border:1px solid var(--line);
      border-radius: 16px;
      padding: 10px 12px;
      font-size:12px;
      color:var(--muted);
      box-shadow: var(--shadow2);
      max-width: 240px;
    }

    /* Story strip */
    .strip{
      margin: 18px 0 8px;
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap:12px;
    }
    .strip .shot{
      border-radius: 18px;
      overflow:hidden;
      border:1px solid var(--line);
      background: rgba(255,255,255,.65);
      box-shadow: var(--shadow2);
      min-height: 140px;
      position:relative;
    }
    .strip img{
      width:100%; height:100%;
      object-fit:cover;
      display:block;
    }
    .shot span{
      position:absolute; left:10px; bottom:10px;
      background: rgba(255,255,255,.82);
      border:1px solid var(--line);
      padding:6px 10px;
      border-radius: 999px;
      font-size:12px;
      color:var(--muted);
      font-weight:700;
    }
    @media (max-width: 920px){
      .strip{grid-template-columns:1fr; }
      .strip .shot{min-height: 170px;}
    }

    /* Main sections */
    .section{padding: 16px 0}
    .grid2{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 14px;
    }
    @media (max-width: 920px){ .grid2{grid-template-columns:1fr} }

    .card{
      background: var(--card2);
      border:1px solid var(--line);
      border-radius: var(--radius);
      box-shadow: var(--shadow2);
      padding: 18px;
    }
    .card h2{margin:0 0 10px; font-size:20px}
    .bullets{margin:0; padding-left: 18px; color:var(--muted); line-height:1.5}
    .bullets li{margin:8px 0}

    /* Flow */
    .flow{
      background: rgba(255,255,255,.60);
      border:1px solid var(--line);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .flowHead{
      padding: 18px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      border-bottom:1px solid var(--line);
      background: rgba(255,255,255,.72);
    }
    .flowHead h2{margin:0; font-size:20px}
    .steps{
      display:flex; gap:8px; flex-wrap:wrap;
      justify-content:flex-end;
    }
    .step{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      width:32px; height:32px;
      border-radius: 999px;
      border:1px solid var(--line);
      background: rgba(255,255,255,.75);
      color:var(--muted);
      font-weight:900;
      font-size:13px;
    }
    .step.active{
      background: linear-gradient(135deg, var(--pink), var(--pink2));
      border-color: rgba(255,79,163,.3);
      color:#fff;
      box-shadow: 0 10px 25px rgba(255,79,163,.20);
    }

    .panel{display:none; padding: 18px}
    .panel.active{display:block}

    .row{display:grid; grid-template-columns: 1fr 1fr; gap:12px}
    @media (max-width: 760px){ .row{grid-template-columns:1fr} }

    label.lbl{
      display:block;
      font-weight:800;
      font-size:12.5px;
      margin: 10px 0 6px;
      color: var(--ink);
    }
    input, textarea, select{
      width:100%;
      border-radius: 16px;
      border:1px solid var(--line);
      padding: 12px 12px;
      font-size: 14.5px;
      background: rgba(255,255,255,.86);
      outline:none;
      transition:.12s ease;
    }
    textarea{min-height: 110px; resize: vertical}
    input:focus, textarea:focus, select:focus{
      border-color: rgba(255,79,163,.35);
      box-shadow: 0 0 0 4px rgba(255,79,163,.10);
      background: rgba(255,255,255,.98);
    }

    .helper{
      font-size:12.5px;
      color:var(--muted);
      margin-top: 6px;
      line-height:1.45;
    }

    .actions{
      display:flex;
      gap:10px;
      align-items:center;
      justify-content:space-between;
      margin-top: 14px;
      flex-wrap:wrap;
    }
    .actions .left, .actions .right{display:flex; gap:10px; align-items:center; flex-wrap:wrap}

    .priceBox{
      background: rgba(255,255,255,.78);
      border:1px solid var(--line);
      border-radius: 18px;
      padding: 12px 12px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      width:100%;
      max-width: 420px;
    }
    .priceBox b{font-size:14px}
    .priceBox span{font-size:12px; color:var(--muted)}

    /* Pack tiles */
    .pack-tiles{
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap:10px;
      margin-top: 10px;
    }
    @media (max-width: 760px){ .pack-tiles{grid-template-columns:1fr} }
    .pack-tile{
      text-align:left;
      padding: 12px;
      border-radius: 18px;
      border:1px solid var(--line);
      background: rgba(255,255,255,.78);
      cursor:pointer;
      transition:.12s ease;
      box-shadow: var(--shadow2);
    }
    .pack-tile:hover{transform: translateY(-1px)}
    .pack-tile.active{
      border-color: rgba(255,79,163,.35);
      box-shadow: 0 16px 40px rgba(255,79,163,.12);
      background: rgba(255,255,255,.92);
    }
    .pack-tile .tTop{
      display:flex; align-items:center; justify-content:space-between; gap:10px;
      margin-bottom: 6px;
    }
    .pack-tile .tTop b{font-size:14px}
    .pill{
      font-size:11px;
      font-weight:900;
      border-radius:999px;
      padding:6px 8px;
      border:1px solid rgba(255,79,163,.18);
      background: rgba(255,79,163,.08);
      color: var(--ink);
      white-space:nowrap;
    }
    .pack-tile p{
      margin:0;
      color:var(--muted);
      font-size:12.5px;
      line-height:1.45;
    }

    /* Extras toggles */
    .toggles{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:10px;
      margin-top: 10px;
    }
    @media (max-width: 760px){ .toggles{grid-template-columns:1fr} }
    .toggle{
      display:flex; align-items:flex-start; gap:10px;
      padding: 12px;
      border-radius: 18px;
      border:1px solid var(--line);
      background: rgba(255,255,255,.78);
      cursor:pointer;
      user-select:none;
      transition:.12s ease;
    }
    .toggle input{width:auto; margin-top: 3px}
    .toggle b{font-size:13.5px}
    .toggle span{display:block; font-size:12px; color:var(--muted); margin-top:3px}
    .toggle.on{
      border-color: rgba(255,79,163,.35);
      box-shadow: 0 16px 40px rgba(255,79,163,.10);
      background: rgba(255,255,255,.92);
    }

    /* FAQ */
    details{
      border:1px solid var(--line);
      background: rgba(255,255,255,.72);
      border-radius: 18px;
      padding: 12px 12px;
      box-shadow: var(--shadow2);
    }
    details + details{margin-top:10px}
    summary{
      cursor:pointer;
      font-weight:900;
    }
    details p{
      margin:10px 0 0;
      color:var(--muted);
      line-height:1.5;
      font-size: 13.5px;
    }

    /* Footer */
    footer{
      margin-top: 18px;
      padding: 18px 0 30px;
      border-top:1px solid var(--line);
      background: rgba(255,255,255,.55);
    }
    .footGrid{
      display:grid;
      grid-template-columns: 1.2fr .8fr;
      gap: 14px;
    }
    @media (max-width: 920px){ .footGrid{grid-template-columns:1fr} }
    .footLinks{
      display:flex; flex-wrap:wrap; gap:10px;
    }
    .footLinks a{
      font-size: 13px;
      color: var(--muted);
      text-decoration:none;
      padding:8px 10px;
      border-radius: 999px;
      border:1px solid var(--line);
      background: rgba(255,255,255,.70);
    }
    .footLinks a:hover{background: rgba(255,255,255,.95); color: var(--ink)}
    .small{font-size:12.5px; color:var(--muted); line-height:1.45}

    /* Legal sections */
    .legal{
      scroll-margin-top: 84px;
    }
    .legal h3{margin:0 0 10px; font-size:18px}
    .legal .small{margin:0}

    /* Cookie consent */
    .consent{
      position:fixed;
      left: 14px; right: 14px; bottom: 14px;
      z-index: 99;
      display:none;
    }
    .consent.show{display:block}
    .consentCard{
      max-width: 980px;
      margin: 0 auto;
      background: rgba(255,255,255,.85);
      border:1px solid var(--line);
      border-radius: 22px;
      box-shadow: 0 22px 60px rgba(11,27,42,.16);
      padding: 14px;
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:12px;
      backdrop-filter: blur(16px);
    }
    .consentText b{display:block; margin-bottom:4px}
    .consentText p{margin:0; color:var(--muted); font-size:13px; line-height:1.4}
    .consentBtns{display:flex; gap:10px; align-items:center; flex-wrap:wrap; justify-content:flex-end}
    .btnSmall{padding:10px 12px; font-weight:900; font-size:13px}
    @media (max-width: 760px){
      .consentCard{flex-direction:column; align-items:stretch}
      .consentBtns{justify-content:flex-start}
    }

    /* First-load animation: crumbs + bite */
    .crumbLayer{
      position:absolute; inset:0;
      pointer-events:none;
      overflow:hidden;
    }
    .crumb{
      position:absolute;
      width:8px; height:8px;
      border-radius: 999px;
      opacity:.9;
      filter: blur(.1px);
      animation: fall 900ms ease-in forwards;
    }
    @keyframes fall{
      0%{transform: translateY(-40px) rotate(0deg); opacity:0}
      15%{opacity:1}
      100%{transform: translateY(260px) rotate(220deg); opacity:0}
    }
    .cookieBite{
      position:absolute;
      right:-50px;
      top:-40px;
      width: 180px;
      height: 180px;
      opacity:0;
      transform: rotate(10deg) scale(.9);
      transition: opacity .35s ease, transform .35s ease;
      pointer-events:none;
    }
    .cookieBite.show{
      opacity:.92;
      transform: rotate(-6deg) scale(1);
    }

    /* Reduce motion */
    @media (prefers-reduced-motion: reduce){
      .crumb{animation:none}
      .cookieBite{transition:none}
    }
  </style>
</head>

<body>
  <!-- TOPBAR -->
  <header class="topbar">
    <div class="wrap">
      <div class="inner">
        <a class="brand" href="#top" aria-label="OnlyKeks Start">
          <!-- COOL COOKIE LOGO (SVG) -->
          <svg class="brandMark" viewBox="0 0 64 64" role="img" aria-label="OnlyKeks Cookie Logo">
            <defs>
              <linearGradient id="g1" x1="0" y1="0" x2="1" y2="1">
                <stop offset="0" stop-color="#ff4fa3"/>
                <stop offset="1" stop-color="#ff7cc5"/>
              </linearGradient>
              <filter id="s" x="-30%" y="-30%" width="160%" height="160%">
                <feDropShadow dx="0" dy="10" stdDeviation="8" flood-color="rgba(11,27,42,.18)"/>
              </filter>
            </defs>
            <circle cx="32" cy="32" r="22" fill="rgba(255,255,255,.9)" />
            <path filter="url(#s)" d="M32 8c-9.4 0-17.6 5.6-21 13.7-2 4.7-2 10 0 14.7C14.4 44.4 22.6 50 32 50c11 0 20.4-7.7 22.6-18.1.8-3.7.4-7.5-1.2-10.9C49.6 13 41.4 8 32 8Z" fill="#f4c9a2" stroke="rgba(11,27,42,.12)" stroke-width="1.2"/>
            <!-- bite -->
            <circle cx="49" cy="18" r="7.2" fill="rgba(255,255,255,.96)"/>
            <circle cx="53.8" cy="22.6" r="5.3" fill="rgba(255,255,255,.96)"/>
            <!-- sprinkles -->
            <circle cx="24" cy="24" r="2.4" fill="url(#g1)"/>
            <circle cx="37" cy="26.5" r="2.2" fill="rgba(11,27,42,.28)"/>
            <circle cx="28.5" cy="36" r="2.1" fill="rgba(255,79,163,.65)"/>
            <circle cx="40.5" cy="37.5" r="2.6" fill="rgba(11,27,42,.22)"/>
            <circle cx="20.5" cy="32" r="1.9" fill="rgba(255,124,197,.75)"/>
          </svg>

          <div class="brandText">
            <strong>OnlyKeks</strong>
            <span>Post, die schmeckt</span>
          </div>
        </a>

        <nav aria-label="Navigation">
          <a href="#how">So l√§uft‚Äôs</a>
          <a href="#flow">Reply-Flow</a>
          <a href="#faq">FAQ</a>
          <a href="#versand">Versand</a>
        </nav>

        <div class="topCta">
          <a class="btn btnGhost hideSm" href="#flow">Keks gestalten</a>
          <a class="btn btnPrimary" href="#flow" aria-label="Jetzt starten">
            <span>Jetzt starten</span>
            <span aria-hidden="true">‚Üí</span>
          </a>
        </div>
      </div>
    </div>
  </header>

  <main id="top">
    <!-- HERO -->
    <section class="hero">
      <div class="wrap">
        <div class="heroGrid">
          <div class="heroCard">
            <div class="crumbLayer" id="crumbLayer"></div>

            <div class="kicker">
              <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
                <path d="M4 12c0-4.4 3.6-8 8-8s8 3.6 8 8-3.6 8-8 8-8-3.6-8-8Z" stroke="currentColor" stroke-width="2" opacity=".9"/>
                <path d="M8 12h8" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                <path d="M12 8v8" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              </svg>
              Kein Account ¬∑ QR-Reply ¬∑ echtes Post-Feeling
            </div>

            <h1>Schicke s√º√üe Botschaften ‚Äì und hol dir ‚Äône QR-Antwort zur√ºck.</h1>
            <p class="sub">
              Du schickst einen Keks mit Message + QR-Code. Empf√§nger*in scannt, antwortet ‚Äì wir backen den Reply-Keks und schicken ihn zur√ºck. Einfach, emotional, kein Tech-Gefrickel.
            </p>

            <div class="miniFlow" aria-label="Vorlagen">
              <button class="chip" type="button" data-msg="Ich denk an dich. üç™">Ich denk an dich</button>
              <button class="chip" type="button" data-msg="Beweg dein Arsch ‚Äì du packst das! ‚ú®">Motivation</button>
              <button class="chip" type="button" data-msg="Happy Birthday! üéâ">Geburtstag</button>
              <button class="chip" type="button" data-msg="Vermiss dich. üíó">Vermissen</button>
            </div>

            <div class="actions">
              <div class="left">
                <a class="btn btnPrimary" href="#flow">Keks jetzt gestalten ‚Üí</a>
                <a class="btn btnGhost" href="#how">Erst kurz checken</a>
              </div>

              <div class="right">
                <div class="priceBox" aria-label="Hinweis">
                  <div>
                    <b>Reply-Loop</b><br/>
                    <span>Empf√§nger*in antwortet in Sekunden ¬∑ wir k√ºmmern uns um den Rest</span>
                  </div>
                  <div style="font-weight:900">üç™</div>
                </div>
              </div>
            </div>

            <!-- "Bite" overlay for first-load -->
            <svg class="cookieBite" id="cookieBite" viewBox="0 0 240 240" aria-hidden="true">
              <defs>
                <linearGradient id="cb" x1="0" y1="0" x2="1" y2="1">
                  <stop offset="0" stop-color="#f6d2b5"/>
                  <stop offset="1" stop-color="#e9b88e"/>
                </linearGradient>
              </defs>
              <path d="M120 30c-49.7 0-90 40.3-90 90s40.3 90 90 90 90-40.3 90-90-40.3-90-90-90Z" fill="url(#cb)" stroke="rgba(11,27,42,.10)" stroke-width="2"/>
              <!-- bite -->
              <circle cx="188" cy="62" r="28" fill="rgba(255,255,255,.92)"/>
              <circle cx="210" cy="84" r="20" fill="rgba(255,255,255,.92)"/>
              <!-- chips -->
              <circle cx="88" cy="96" r="10" fill="rgba(11,27,42,.25)"/>
              <circle cx="132" cy="82" r="8" fill="rgba(255,79,163,.55)"/>
              <circle cx="104" cy="150" r="9" fill="rgba(11,27,42,.22)"/>
              <circle cx="150" cy="150" r="11" fill="rgba(255,124,197,.65)"/>
            </svg>

            <div class="trustbar" aria-label="Trust Bar">
              <div class="trustItem">
                <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
                  <path d="M3 12l2-2 4 4L19 4l2 2L9 18 3 12Z" fill="currentColor" opacity=".85"/>
                </svg>
                <div><b>Ohne Account</b><span>Empf√§nger*in scannt & antwortet</span></div>
              </div>
              <div class="trustItem">
                <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
                  <path d="M12 2l8 4v6c0 5-3.4 9.7-8 10-4.6-.3-8-5-8-10V6l8-4Z" stroke="currentColor" stroke-width="2" opacity=".9"/>
                  <path d="M9 12l2 2 4-5" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                </svg>
                <div><b>Sauber bezahlt</b><span>Stripe Payment Link</span></div>
              </div>
              <div class="trustItem">
                <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
                  <path d="M3 7h18v10H3V7Z" stroke="currentColor" stroke-width="2" opacity=".9"/>
                  <path d="M3 7l9 6 9-6" stroke="currentColor" stroke-width="2" opacity=".9"/>
                </svg>
                <div><b>Briefkasten-Mood</b><span>Wie fr√ºher ‚Äì nur smarter</span></div>
              </div>
              <div class="trustItem">
                <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
                  <path d="M12 2c3.9 3 6 6.2 6 9.5A6 6 0 1 1 6 11.5C6 8.2 8.1 5 12 2Z" stroke="currentColor" stroke-width="2" opacity=".9"/>
                </svg>
                <div><b>Allergene klar</b><span>Transparenz in den Infos</span></div>
              </div>
            </div>
          </div>

          <aside class="heroMedia" aria-label="Hero Media">
            <div class="mediaInner">
              <div class="mediaFrame">
                <!-- Video optional (falls vorhanden), sonst zeigt Poster/Bild -->
                <video id="heroVideo" autoplay muted playsinline loop preload="metadata" poster="assets/img/1000149739.jpg" aria-label="Kurzes Hero Video">
                  <source src="assets/img/grok_video_2025-12-13-20-49-35.mp4" type="video/mp4"/>
                </video>
                <!-- Backup image (JS blendet ggf. Video aus) -->
                <img id="heroImg" src="assets/img/1000149739.jpg" alt="Jemand h√§lt einen Keks, scannt den QR-Code und l√§chelt" loading="eager" decoding="async" />
              </div>
              <div class="mediaBadge">
                <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
                  <path d="M6 9l6-6 6 6v12a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2V9Z" stroke="currentColor" stroke-width="2"/>
                  <path d="M9 22v-8h6v8" stroke="currentColor" stroke-width="2"/>
                </svg>
                Geschenk-Mood ¬∑ Pastell ¬∑ Echt
              </div>
              <div class="mediaNote">
                Tipp: Wenn Video nicht l√§dt, wird automatisch das Foto genutzt.
              </div>
            </div>
          </aside>
        </div>

        <!-- Story strip -->
        <div class="strip" aria-label="Story Bilder">
          <div class="shot">
            <img src="assets/img/1000149740.jpg" alt="Keks mit Karte in der Hand" loading="lazy" decoding="async"/>
            <span>1) Keks + Message</span>
          </div>
          <div class="shot">
            <img src="assets/img/1000149741.jpg" alt="QR wird gescannt" loading="lazy" decoding="async"/>
            <span>2) QR scannen</span>
          </div>
          <div class="shot">
            <img src="assets/img/1000149742.jpg" alt="Reply kommt zur√ºck" loading="lazy" decoding="async"/>
            <span>3) Reply-Keks zur√ºck</span>
          </div>
        </div>
      </div>
    </section>

    <!-- HOW -->
    <section class="section" id="how">
      <div class="wrap">
        <div class="grid2">
          <div class="card">
            <h2>So l√§uft‚Äôs</h2>
            <ul class="bullets">
              <li><b>Du schreibst</b> eine kurze Message und w√§hlst ein Paket.</li>
              <li><b>Wir verschicken</b> den Keks + QR-Karte an die Person.</li>
              <li><b>Empf√§nger*in scannt</b> den QR-Code und antwortet ohne Account.</li>
              <li><b>Wir backen den Reply-Keks</b> und schicken ihn zu dir zur√ºck.</li>
            </ul>
          </div>
          <div class="card">
            <h2>Warum das zieht</h2>
            <ul class="bullets">
              <li>Emotionaler als ‚Äône WhatsApp ‚Äì aber genauso schnell.</li>
              <li>Der QR-Reply macht‚Äôs spielerisch: <b>Reply-Loop</b> statt Einweg-Post.</li>
              <li>Minimaler Flow: kein Shop-Chaos, kein Konto-Theater.</li>
              <li>Design: deko-soft, clean, vertrauensw√ºrdig.</li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <!-- FLOW -->
    <section class="section" id="flow">
      <div class="wrap">
        <div class="flow">
          <div class="flowHead">
            <h2>Reply-Flow</h2>
            <div class="steps" aria-label="Schritte">
              <div class="step active" data-step="1">1</div>
              <div class="step" data-step="2">2</div>
              <div class="step" data-step="3">3</div>
              <div class="step" data-step="4">4</div>
              <div class="step" data-step="5">5</div>
            </div>
          </div>

          <!-- PANEL 1 -->
          <div class="panel active" id="p1">
            <label class="lbl" for="msg">Deine Message</label>
            <textarea id="msg" maxlength="500" placeholder="Schreib was S√º√ües‚Ä¶ (max. 500 Zeichen)"></textarea>
            <div class="helper" id="count">0 / 500</div>

            <label class="lbl" for="pack">Paket</label>
            <select id="pack" name="pack">
              <option value="Quick">Quick</option>
              <option value="Custom" selected>Custom</option>
              <option value="Premium">Premium</option>
            </select>

            <div class="pack-tiles" id="packTiles" role="radiogroup" aria-label="Paket w√§hlen">
              <button class="pack-tile" type="button" data-pack="Quick" role="radio" aria-checked="false">
                <div class="tTop"><b>Quick</b><span class="pill">simpel & sweet</span></div>
                <p>Eine klare Message, klassisch verpackt. Perfekt f√ºr ‚Äúeinfach mal so‚Äù.</p>
              </button>
              <button class="pack-tile" type="button" data-pack="Custom" role="radio" aria-checked="true">
                <div class="tTop"><b>Custom</b><span class="pill">mehr Deko</span></div>
                <p>Mehr ‚Äúwow‚Äù: Deko-Finish (z. B. Sprinkles/Sticker-Look) und nicerer Auftritt.</p>
              </button>
              <button class="pack-tile" type="button" data-pack="Premium" role="radio" aria-checked="false">
                <div class="tTop"><b>Premium</b><span class="pill">Box-Vibe</span></div>
                <p>Edle Box, maximaler Geschenk-Moment. Wenn‚Äôs richtig knallen soll.</p>
              </button>
            </div>

            <div class="actions">
              <div class="left">
                <button class="btn btnPrimary" type="button" id="next1">Weiter ‚Üí</button>
                <a class="btn btnGhost" href="#faq">Fragen?</a>
              </div>
              <div class="right">
                <div class="priceBox">
                  <div><b id="priceTitle">Custom</b><br/><span id="priceNote">Beliebt ¬∑ Deko-Finish</span></div>
                  <div style="font-weight:900" id="priceVal">‚Äî</div>
                </div>
              </div>
            </div>
          </div>

          <!-- PANEL 2 -->
          <div class="panel" id="p2">
            <h3 style="margin:0 0 8px;">Veredeln & Extras</h3>
            <div class="helper">Optional ‚Äì aber macht‚Äôs ‚Äús√º√üer‚Äù.</div>

            <div class="toggles" id="toggles">
              <label class="toggle" data-key="sprinkles">
                <input type="checkbox" id="xSprinkles" />
                <div><b>Sprinkles-Look</b><span>Mehr ‚ÄúDeko-Chichi‚Äù auf dem Keks-Design.</span></div>
              </label>
              <label class="toggle" data-key="sticker">
                <input type="checkbox" id="xSticker" />
                <div><b>Karten-Sticker</b><span>Kleines Sticker-Element auf der Reply-Karte.</span></div>
              </label>
              <label class="toggle" data-key="storyurl">
                <input type="checkbox" id="xStory" />
                <div><b>Mini-Story-URL</b><span>Kurzer Link, der den Moment erkl√§rt (viral-friendly).</span></div>
              </label>
              <label class="toggle" data-key="photo">
                <input type="checkbox" id="xPhoto" />
                <div><b>Foto-Upload (sp√§ter)</b><span>Platzhalter im MVP ‚Äì vorbereitet f√ºrs Upgrade.</span></div>
              </label>
            </div>

            <div class="actions">
              <div class="left">
                <button class="btn btnGhost" type="button" id="back2">‚Üê Zur√ºck</button>
              </div>
              <div class="right">
                <button class="btn btnPrimary" type="button" id="next2">Weiter ‚Üí</button>
              </div>
            </div>
          </div>

          <!-- PANEL 3 -->
          <div class="panel" id="p3">
            <h3 style="margin:0 0 8px;">Adresse</h3>
            <div class="helper">Wir brauchen Empf√§nger*in + deine Adresse f√ºr den Reply-Keks.</div>

            <div class="row">
              <div>
                <label class="lbl" for="toName">Empf√§nger*in ‚Äì Name</label>
                <input id="toName" autocomplete="name" placeholder="z. B. Lisa" />
              </div>
              <div>
                <label class="lbl" for="fromName">Dein Name</label>
                <input id="fromName" autocomplete="name" placeholder="z. B. Schmidti" />
              </div>
            </div>

            <label class="lbl" for="toStreet">Empf√§nger*in ‚Äì Stra√üe & Hausnummer</label>
            <input id="toStreet" autocomplete="street-address" placeholder="Musterstra√üe 12" />

            <div class="row">
              <div>
                <label class="lbl" for="toZip">Empf√§nger*in ‚Äì PLZ</label>
                <input id="toZip" inputmode="numeric" placeholder="10115" />
              </div>
              <div>
                <label class="lbl" for="toCity">Empf√§nger*in ‚Äì Ort</label>
                <input id="toCity" placeholder="Berlin" />
              </div>
            </div>

            <label class="lbl" for="fromStreet">Deine Stra√üe & Hausnummer</label>
            <input id="fromStreet" autocomplete="street-address" placeholder="Deine Stra√üe 3" />

            <div class="row">
              <div>
                <label class="lbl" for="fromZip">Deine PLZ</label>
                <input id="fromZip" inputmode="numeric" placeholder="12345" />
              </div>
              <div>
                <label class="lbl" for="fromCity">Dein Ort</label>
                <input id="fromCity" placeholder="Berlin" />
              </div>
            </div>

            <div class="actions">
              <div class="left">
                <button class="btn btnGhost" type="button" id="back3">‚Üê Zur√ºck</button>
              </div>
              <div class="right">
                <button class="btn btnPrimary" type="button" id="next3">Weiter ‚Üí</button>
              </div>
            </div>
          </div>

          <!-- PANEL 4 -->
          <div class="panel" id="p4">
            <h3 style="margin:0 0 8px;">Check & Zusammenfassung</h3>
            <div class="card" style="margin-top:10px;">
              <div class="small" id="summary"></div>
            </div>

            <div class="actions">
              <div class="left">
                <button class="btn btnGhost" type="button" id="back4">‚Üê Zur√ºck</button>
              </div>
              <div class="right">
                <button class="btn btnPrimary" type="button" id="next4">Weiter zum Bezahlen ‚Üí</button>
              </div>
            </div>
          </div>

          <!-- PANEL 5 -->
          <div class="panel" id="p5">
            <h3 style="margin:0 0 8px;">Bezahlen</h3>
            <div class="helper">Du wirst √ºber Stripe weitergeleitet. Danach speichern wir deinen Entwurf + OrderID lokal (MVP).</div>

            <div class="card" style="margin-top:10px;">
              <div class="small">
                <b>OrderID:</b> <span id="oid">‚Äî</span><br/>
                <b>Paket:</b> <span id="sPack">‚Äî</span><br/>
                <b>Message:</b> <span id="sMsg">‚Äî</span><br/>
                <b>Extras:</b> <span id="sExtras">‚Äî</span>
              </div>
            </div>

            <div class="actions">
              <div class="left">
                <button class="btn btnGhost" type="button" id="back5">‚Üê Zur√ºck</button>
              </div>
              <div class="right">
                <a class="btn btnPrimary" id="payBtn" href="#" rel="noopener">Jetzt mit Stripe bezahlen ‚Üí</a>
              </div>
            </div>

            <div class="helper" style="margin-top:12px;">
              Hinweis: Allergene/AGB/Versand findest du unten im Footer. Wir verkaufen keine Daten.
            </div>
          </div>

        </div>
      </div>
    </section>

    <!-- FAQ -->
    <section class="section" id="faq">
      <div class="wrap">
        <div class="grid2">
          <div class="card">
            <h2>FAQ</h2>
            <details>
              <summary>Wie antwortet die Empf√§nger*in?</summary>
              <p>√úber den QR-Code auf der Karte. Kein Konto, keine App. Scan ‚Üí Text tippen ‚Üí absenden.</p>
            </details>
            <details>
              <summary>Was passiert nach der Antwort?</summary>
              <p>Wir backen den Reply-Keks mit der Antwort-Message und schicken ihn an deine Adresse zur√ºck.</p>
            </details>
            <details>
              <summary>Kann ich Vorlagen nutzen?</summary>
              <p>Ja ‚Äì oben im Hero gibt‚Äôs schnelle Trigger. Mehr Vorlagen kannst du sp√§ter als Themes/Randomizer ausbauen.</p>
            </details>
            <details>
              <summary>Welche Daten speichert ihr?</summary>
              <p>Im MVP speichern wir lokal im Browser deinen Entwurf, damit du nicht neu tippen musst. Optionales Tracking ist aus.</p>
            </details>
          </div>

          <div class="card" id="versand">
            <h2>Versand & Infos</h2>
            <ul class="bullets">
              <li><b>Versand:</b> Brief/Warensendung (je nach Setup).</li>
              <li><b>Tracking:</b> optional (sp√§ter), im MVP minimal.</li>
              <li><b>Allergene:</b> klar ausgewiesen in den Infos unten.</li>
              <li><b>Support:</b> √ºber Kontakt/Impressum.</li>
            </ul>
            <div style="margin-top:12px;">
              <video muted playsinline loop preload="metadata" style="width:100%; border-radius:18px; border:1px solid var(--line); background:rgba(255,255,255,.7)" poster="assets/img/1000149743.jpg">
                <source src="assets/img/grok_video_2025-12-13-20-51-18.mp4" type="video/mp4"/>
              </video>
              <div class="helper">Kurzes Mood-Video (optional).</div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- LEGAL SECTIONS -->
    <section class="section legal" id="impressum">
      <div class="wrap">
        <div class="card">
          <h3>Impressum</h3>
          <p class="small">
            Platzhalter (MVP): Betreiber, Anschrift, Kontakt, Umsatzsteuer etc. hier eintragen.
          </p>
        </div>
      </div>
    </section>

    <section class="section legal" id="datenschutz">
      <div class="wrap">
        <div class="card">
          <h3>Wie wir mit Daten umgehen</h3>
          <p class="small">
            Notwendig: Speichern deines Keks-Entwurfs (lokal im Browser). Optional: Verst√§ndnis, welche Kekse gefallen (derzeit aus). Wir verkaufen keine Daten.
          </p>
        </div>
      </div>
    </section>

    <section class="section legal" id="agb">
      <div class="wrap">
        <div class="card">
          <h3>AGB</h3>
          <p class="small">Platzhalter (MVP): Bedingungen, Widerruf, Lieferzeiten, Haftung.</p>
        </div>
      </div>
    </section>

    <section class="section legal" id="allergene">
      <div class="wrap">
        <div class="card">
          <h3>Allergene</h3>
          <p class="small">Platzhalter (MVP): Zutaten, Allergene, Spurenhinweise, N√§hrwerte.</p>
        </div>
      </div>
    </section>

    <section class="section legal" id="versandinfo">
      <div class="wrap">
        <div class="card">
          <h3>Versand</h3>
          <p class="small">Platzhalter (MVP): Versandarten, Kosten, Liefergebiet, Laufzeiten.</p>
        </div>
      </div>
    </section>

  </main>

  <!-- FOOTER -->
  <footer>
    <div class="wrap">
      <div class="footGrid">
        <div>
          <div style="display:flex; align-items:center; gap:10px;">
            <span style="font-size:18px; font-weight:900;">OnlyKeks</span>
            <span class="small">Post, die schmeckt</span>
          </div>
          <p class="small" style="margin:10px 0 0;">
            MVP: One-Page-Landing + Reply-Flow. Fokus auf Conversion, Vertrauen und Geschenk-Mood.
          </p>
        </div>
        <div class="footLinks" aria-label="Footer Links">
          <a href="#impressum">Impressum</a>
          <a href="#datenschutz">Wie wir mit Daten umgehen</a>
          <a href="#agb">AGB</a>
          <a href="#versandinfo">Versand</a>
          <a href="#allergene">Allergene</a>
        </div>
      </div>
    </div>
  </footer>

  <!-- COOKIE CONSENT -->
  <div class="consent" id="consent">
    <div class="consentCard" role="dialog" aria-label="Cookie Hinweis" aria-modal="true">
      <div class="consentText">
        <b>Cookie-Kr√ºmel üç™</b>
        <p>
          Wir nutzen <b>Notwendiges</b>, damit dein Keks-Entwurf gespeichert bleibt.
          Optional hilft uns zu verstehen, welche Kekse gefallen. <b>Wir verkaufen keine Daten.</b>
        </p>
      </div>
      <div class="consentBtns">
        <button class="btn btnPrimary btnSmall" type="button" id="consentAll">Alles klar üç™</button>
        <button class="btn btnGhost btnSmall" type="button" id="consentNeed">Nur das N√∂tigste</button>
        <a class="btn btnGhost btnSmall" href="#datenschutz">Details</a>
      </div>
    </div>
  </div>

  <script>
    /*** CONFIG: NUR HIER STRIPE EINTRAGEN ***/
    const STRIPE_PAYMENT_LINK = "https://buy.stripe.com/aBcDeFgHiJkLmNoPqR";

    /* ===== Helpers ===== */
    const $ = (id)=>document.getElementById(id);
    const qsa = (sel,root=document)=>Array.from(root.querySelectorAll(sel));

    function uid(){
      // short, readable, good enough for MVP (not cryptographic)
      const a = Math.random().toString(36).slice(2,8).toUpperCase();
      const b = Date.now().toString(36).slice(-6).toUpperCase();
      return `OK-${b}-${a}`;
    }

    /* ===== Hero: video fallback ===== */
    (function heroMedia(){
      const v = $("heroVideo");
      const img = $("heroImg");
      if(!v || !img) return;

      // If video can play, show it and hide image; else show image.
      const showVideo = ()=>{
        img.style.display = "none";
        v.style.display = "block";
      };
      const showImg = ()=>{
        v.style.display = "none";
        img.style.display = "block";
      };

      // Default to image until video is ready
      showImg();

      v.addEventListener("canplay", showVideo, {once:true});
      v.addEventListener("error", showImg, {once:true});

      // If autoplay blocked, keep image
      const p = v.play();
      if(p && typeof p.catch === "function") p.catch(()=>showImg());
    })();

    /* ===== First-load animation: crumbs + bite (once) ===== */
    (function firstLoadAnim(){
      const key = "onlykeks_anim_played_v1";
      const reduced = window.matchMedia && window.matchMedia("(prefers-reduced-motion: reduce)").matches;
      if(reduced) return;

      if(localStorage.getItem(key)) return;
      localStorage.setItem(key, "1");

      const layer = $("crumbLayer");
      const bite = $("cookieBite");
      if(!layer || !bite) return;

      const isMobile = window.matchMedia && window.matchMedia("(max-width: 760px)").matches;
      const n = isMobile ? 10 : 22;

      // crumbs
      for(let i=0;i<n;i++){
        const c = document.createElement("div");
        c.className = "crumb";
        // random position & color
        const left = Math.random()*92 + 2;
        const top = Math.random()*20;
        const size = (Math.random()*6 + 5) + "px";
        const delay = Math.random()*220 + "ms";
        const hue = Math.random() > .5 ? "rgba(255,79,163,.85)" : (Math.random() > .5 ? "rgba(255,124,197,.85)" : "rgba(11,27,42,.22)");
        c.style.left = left + "%";
        c.style.top = top + "px";
        c.style.width = size;
        c.style.height = size;
        c.style.background = hue;
        c.style.animationDelay = delay;
        layer.appendChild(c);

        setTimeout(()=>c.remove(), 1400);
      }

      // bite pop
      setTimeout(()=>bite.classList.add("show"), isMobile ? 220 : 160);
      setTimeout(()=>bite.classList.remove("show"), isMobile ? 900 : 1100);
    })();

    /* ===== FLOW LOGIC ===== */
    const panels = { 1: $("p1"), 2: $("p2"), 3: $("p3"), 4: $("p4"), 5: $("p5") };
    const steps  = qsa(".step");

    function go(n){
      Object.values(panels).forEach(p=>p.classList.remove("active"));
      panels[n].classList.add("active");
      steps.forEach(s=>s.classList.toggle("active", +s.dataset.step === n));

      if(n === 5){
        // Stripe link
        const payBtn = $("payBtn");
        payBtn.href = STRIPE_PAYMENT_LINK;

        // Populate final summary
        const state = readState();
        $("oid").textContent = state.orderId || "‚Äî";
        $("sPack").textContent = state.pack || "‚Äî";
        $("sMsg").textContent = state.msg ? state.msg.slice(0,120) + (state.msg.length>120?"‚Ä¶":"") : "‚Äî";
        $("sExtras").textContent = (state.extras && state.extras.length) ? state.extras.join(", ") : "‚Äî";
      }
      // keep view stable
      document.querySelector("#flow").scrollIntoView({behavior:"smooth", block:"start"});
    }

    /* ===== State ===== */
    const LS_KEY = "onlykeks_order_v1";

    function readState(){
      try{
        return JSON.parse(localStorage.getItem(LS_KEY) || "{}");
      }catch(e){
        return {};
      }
    }
    function writeState(patch){
      const cur = readState();
      const next = Object.assign({}, cur, patch);
      localStorage.setItem(LS_KEY, JSON.stringify(next));
      return next;
    }

    function computePricing(pack){
      // MVP: placeholder numbers (change later)
      if(pack === "Quick")   return {title:"Quick",   note:"Schnell & sweet", val:"ab 9,90 ‚Ç¨"};
      if(pack === "Premium") return {title:"Premium", note:"Box-Vibe",        val:"ab 19,90 ‚Ç¨"};
      return {title:"Custom", note:"Beliebt ¬∑ Deko-Finish", val:"ab 14,90 ‚Ç¨"};
    }

    /* ===== Message count & chips ===== */
    const msg = $("msg");
    const count = $("count");
    function updateCount(){
      count.textContent = `${msg.value.length} / 500`;
      writeState({msg: msg.value});
    }
    msg.addEventListener("input", updateCount);

    qsa(".chip").forEach(ch=>{
      ch.addEventListener("click", ()=>{
        msg.value = ch.dataset.msg || "";
        updateCount();
        // push user into flow
        document.querySelector("#flow").scrollIntoView({behavior:"smooth", block:"start"});
      });
    });

    /* ===== Pack tiles bind to select ===== */
    const packSel = $("pack");
    const tiles = qsa(".pack-tile", $("packTiles"));
    function setActivePack(pack){
      packSel.value = pack;
      tiles.forEach(t=>{
        const on = t.dataset.pack === pack;
        t.classList.toggle("active", on);
        t.setAttribute("aria-checked", on ? "true":"false");
      });
      const p = computePricing(pack);
      $("priceTitle").textContent = p.title;
      $("priceNote").textContent = p.note;
      $("priceVal").textContent = p.val;
      writeState({pack});
    }

    tiles.forEach(t=>{
      t.addEventListener("click", ()=>setActivePack(t.dataset.pack));
    });
    packSel.addEventListener("change", ()=>setActivePack(packSel.value));

    /* ===== Extras toggles ===== */
    const extrasMap = [
      {id:"xSprinkles", label:"Sprinkles-Look"},
      {id:"xSticker",   label:"Karten-Sticker"},
      {id:"xStory",     label:"Mini-Story-URL"},
      {id:"xPhoto",     label:"Foto-Upload (sp√§ter)"}
    ];

    function readExtras(){
      const out = [];
      for(const x of extrasMap){
        const el = $(x.id);
        if(el && el.checked) out.push(x.label);
      }
      return out;
    }
    function syncToggleStyles(){
      qsa(".toggle").forEach(t=>{
        const input = t.querySelector("input");
        t.classList.toggle("on", !!(input && input.checked));
      });
    }
    qsa(".toggle input").forEach(inp=>{
      inp.addEventListener("change", ()=>{
        syncToggleStyles();
        writeState({extras: readExtras()});
      });
    });

    /* ===== Address fields ===== */
    const fields = ["toName","fromName","toStreet","toZip","toCity","fromStreet","fromZip","fromCity"];
    fields.forEach(id=>{
      const el = $(id);
      el.addEventListener("input", ()=>{
        writeState({[id]: el.value});
      });
    });

    /* ===== Summary render ===== */
    function renderSummary(){
      const s = readState();
      const extras = (s.extras && s.extras.length) ? s.extras.join(", ") : "‚Äî";
      const p = computePricing(s.pack || "Custom");

      const lines = [
        `<b>Paket:</b> ${escapeHtml(s.pack || "Custom")} <span style="color:var(--muted)">(${escapeHtml(p.val)})</span>`,
        `<b>Message:</b><br/>${escapeHtml(s.msg || "‚Äî")}`,
        `<b>Extras:</b> ${escapeHtml(extras)}`,
        `<hr style="border:0;border-top:1px solid var(--line);margin:10px 0;">`,
        `<b>Empf√§nger*in:</b> ${escapeHtml(s.toName || "‚Äî")}, ${escapeHtml(s.toStreet || "‚Äî")}, ${escapeHtml((s.toZip||"‚Äî")+" "+(s.toCity||"‚Äî"))}`,
        `<b>Reply an:</b> ${escapeHtml(s.fromName || "‚Äî")}, ${escapeHtml(s.fromStreet || "‚Äî")}, ${escapeHtml((s.fromZip||"‚Äî")+" "+(s.fromCity||"‚Äî"))}`
      ];
      $("summary").innerHTML = lines.join("<br/>");
    }

    function escapeHtml(str){
      return String(str ?? "")
        .replaceAll("&","&amp;")
        .replaceAll("<","&lt;")
        .replaceAll(">","&gt;")
        .replaceAll('"',"&quot;")
        .replaceAll("'","&#039;");
    }

    /* ===== Buttons ===== */
    $("next1").addEventListener("click", ()=>{
      const txt = (msg.value || "").trim();
      if(!txt){
        msg.focus();
        msg.style.boxShadow = "0 0 0 4px rgba(255,79,163,.16)";
        setTimeout(()=>msg.style.boxShadow="", 400);
        return;
      }
      go(2);
    });

    $("back2").addEventListener("click", ()=>go(1));
    $("next2").addEventListener("click", ()=>go(3));

    $("back3").addEventListener("click", ()=>go(2));
    $("next3").addEventListener("click", ()=>{
      // basic required fields (MVP)
      const s = readState();
      const need = ["toName","toStreet","toZip","toCity","fromName","fromStreet","fromZip","fromCity"];
      const missing = need.filter(k=>!String(s[k]||"").trim());
      if(missing.length){
        // focus first missing
        const first = $(missing[0]);
        if(first) first.focus();
        return;
      }
      renderSummary();
      go(4);
    });

    $("back4").addEventListener("click", ()=>go(3));
    $("next4").addEventListener("click", ()=>{
      // ensure orderId
      const s = readState();
      if(!s.orderId) writeState({orderId: uid()});
      go(5);
    });

    $("back5").addEventListener("click", ()=>go(4));

    /* ===== Load saved state on start ===== */
    (function boot(){
      const s = readState();

      // message
      if(s.msg){ msg.value = s.msg; }
      updateCount();

      // pack
      setActivePack(s.pack || "Custom");

      // extras
      for(const x of extrasMap){
        const el = $(x.id);
        if(el && s.extras && s.extras.includes(x.label)) el.checked = true;
      }
      syncToggleStyles();

      // addresses
      fields.forEach(id=>{
        if(s[id]) $(id).value = s[id];
      });

      // orderId
      if(s.orderId) $("oid").textContent = s.orderId;
    })();

    /* ===== Consent (A warm default) ===== */
    const CONSENT_KEY = "onlykeks_consent_v1";
    const consentEl = $("consent");
    function showConsent(){
      const c = localStorage.getItem(CONSENT_KEY);
      if(!c) consentEl.classList.add("show");
    }
    function setConsent(mode){
      // mode: "all" | "need"
      localStorage.setItem(CONSENT_KEY, mode);
      consentEl.classList.remove("show");
    }
    $("consentAll").addEventListener("click", ()=>setConsent("all"));
    $("consentNeed").addEventListener("click", ()=>setConsent("need"));
    showConsent();
  </script>
</body>
</html>
