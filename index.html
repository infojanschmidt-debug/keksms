<script>
/*** CONFIG: NUR HIER STRIPE EINTRAGEN ***/
const STRIPE_PAYMENT_LINK = "https://buy.stripe.com/aBcDeFgHiJkLmNoPqR";

/* =======================
   FLOW LOGIC
======================= */
const panels = { 1: p1, 2: p2, 3: p3 };
const steps  = document.querySelectorAll(".step");

function go(n){
  Object.values(panels).forEach(p=>p.classList.remove("active"));
  panels[n].classList.add("active");
  steps.forEach(s=>s.classList.toggle("active", +s.dataset.step===n));

  // ðŸ‘‰ HIER wird Stripe fest eingebunden
  if(n === 3){
    const payBtn = document.getElementById("payBtn");
    payBtn.href = STRIPE_PAYMENT_LINK;
  }
}

document.querySelectorAll(".chip").forEach(ch=>{
  ch.addEventListener("click", ()=>{ msg.value = ch.dataset.msg; });
});

/* =======================
   COOKIE RAIN (lÃ¤uft unabhÃ¤ngig)
======================= */
const c = document.getElementById("cookieRain");
const ctx = c.getContext("2d");

function resize(){
  c.width = innerWidth;
  c.height = innerHeight;
}
resize();
addEventListener("resize", resize);

const cookies = [...Array(30)].map(()=>({
  x: Math.random()*innerWidth,
  y: Math.random()*innerHeight,
  r: 10 + Math.random()*22,
  v: 0.6 + Math.random()*1.4
}));

function draw(){
  ctx.clearRect(0,0,c.width,c.height);
  cookies.forEach(o=>{
    o.y += o.v;
    if(o.y > c.height) o.y = -50;
    ctx.beginPath();
    ctx.arc(o.x,o.y,o.r,0,Math.PI*2);
    ctx.fillStyle = "#c48752";
    ctx.fill();
  });
  requestAnimationFrame(draw);
}
draw();
</script>
