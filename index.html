<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>OnlyKeks ‚Äì Post die schmeckt</title>
  <meta name="description" content="Schicke s√º√üe Botschaften mit direkter QR-Antwort. Reply-Keks in 3 Klicks ‚Äì kein Account." />

  <!-- SEO / Social -->
  <link rel="canonical" href="https://infojanschmidt-debug.github.io/keksms/" />
  <meta name="robots" content="index,follow" />
  <meta name="theme-color" content="#00aff0" />

  <meta property="og:title" content="OnlyKeks ‚Äì Post die schmeckt" />
  <meta property="og:description" content="Schicke s√º√üe Botschaften mit direkter QR-Antwort. Reply-Keks in 3 Klicks." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://infojanschmidt-debug.github.io/keksms/" />
  <meta property="og:image" content="https://infojanschmidt-debug.github.io/keksms/assets/og.jpg" />

  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="OnlyKeks ‚Äì Post die schmeckt" />
  <meta name="twitter:description" content="Schicke s√º√üe Botschaften mit direkter QR-Antwort." />
  <meta name="twitter:image" content="https://infojanschmidt-debug.github.io/keksms/assets/og.jpg" />

  <!-- Font (friendly rounded) -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800;900&display=swap" rel="stylesheet" />

  <!-- Schema (lightweight) -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"Product",
    "name":"OnlyKeks Reply-Keks",
    "description":"Essbare Nachricht mit QR-Reply-Flow.",
    "brand":{"@type":"Brand","name":"OnlyKeks"}
  }
  </script>

  <style>
    :root{
      /* OnlyFans-clean */
      --bg:#ffffff;
      --bg2:#f6fbff;
      --ink:#0b1b2a;
      --muted:#4b5b6b;
      --line: rgba(11,27,42,.10);
      --blue:#00aff0;
      --blue2:#2b7cff;
      --blueSoft: rgba(0,175,240,.12);

      /* Deko-soft */
      --cookie:#c48752;
      --cookieLight:#f3d2b3;
      --pinkSoft: rgba(255,105,180,.11);

      --radius:18px;
      --shadow: 0 18px 60px rgba(11,27,42,.12);
      --shadow2: 0 10px 30px rgba(11,27,42,.08);

      --danger:#d24a5c; /* calmer red */

      /* =======================
         DEKOFRAU-MOUSE (Cursor)
      ======================= */
      --cursor-cookie: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='64' height='64' viewBox='0 0 64 64'%3E%3Ccircle cx='28' cy='28' r='18' fill='%23c48752'/%3E%3Ccircle cx='22' cy='22' r='3' fill='%230b1b2a' opacity='.35'/%3E%3Ccircle cx='34' cy='20' r='2.8' fill='%230b1b2a' opacity='.30'/%3E%3Ccircle cx='20' cy='34' r='2.6' fill='%230b1b2a' opacity='.30'/%3E%3Ccircle cx='34' cy='34' r='2.3' fill='%230b1b2a' opacity='.28'/%3E%3C/svg%3E") 12 12, auto;
    }

    *{box-sizing:border-box}
    html,body{height:100%}

    body{
      margin:0;
      font-family: Poppins, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
      color:var(--ink);
      background:
        radial-gradient(900px 520px at 15% 0%, var(--blueSoft), transparent 60%),
        radial-gradient(800px 520px at 85% 25%, rgba(43,124,255,.10), transparent 55%),
        radial-gradient(900px 520px at 55% 0%, var(--pinkSoft), transparent 60%),
        linear-gradient(180deg, var(--bg), var(--bg2));
      overflow-x:hidden;
      cursor: var(--cursor-cookie);
    }

    a{color:inherit;text-decoration:none}
    .container{max-width:1120px;margin:0 auto;padding:0 18px}

    a, button, .btn, .step, .chip, summary, input[type="submit"], [role="button"]{
      cursor: var(--cursor-cookie);
    }

    input, textarea, select{
      cursor: text;
    }

    :focus-visible{outline:3px solid rgba(0,175,240,.55); outline-offset:3px;}
    .btn:focus-visible,.step:focus-visible,input:focus-visible,textarea:focus-visible,select:focus-visible{
      box-shadow:0 0 0 6px rgba(0,175,240,.18);
    }

    #cookieRain{
      position:fixed; inset:0;
      width:100%; height:100%;
      z-index:0;
      pointer-events:none;
      opacity:.075;
    }
    main, header, footer, .consent{position:relative; z-index:1}

    /* Header */
    header{
      position:sticky;top:0;z-index:50;
      background:rgba(255,255,255,.88);
      backdrop-filter: blur(12px);
      border-bottom:1px solid var(--line);
    }
    .nav{
      display:flex;align-items:center;justify-content:space-between;
      padding:14px 0;gap:12px;
    }
    .brand{display:flex;align-items:center;gap:12px}
    .logo{
      width:52px;height:52px;border-radius:18px;
      background: linear-gradient(135deg, var(--blue), var(--blue2));
      box-shadow: 0 12px 30px rgba(0,175,240,.20);
      position:relative;
      flex:0 0 auto;
    }
    .logo:after{
      content:"";
      position:absolute;inset:13px;border-radius:12px;
      background:rgba(255,255,255,.55);
      border:1px solid rgba(255,255,255,.65);
    }
    .brand b{font-size:18px;font-weight:900;letter-spacing:-.2px}
    .brand small{display:block;color:var(--muted);font-size:12px;margin-top:2px}

    .nav-actions{display:flex;align-items:center;gap:10px;flex-wrap:wrap;justify-content:flex-end}
    .pill{
      font-size:12px;color:var(--muted);
      border:1px solid var(--line);
      background:rgba(255,255,255,.7);
      padding:9px 12px;border-radius:999px;
      white-space:nowrap;
    }

    /* Buttons */
    .btn{
      border:0;border-radius:999px;
      padding:14px 18px;
      min-height:48px;
      font-weight:900;font-size:14px;
      display:inline-flex;align-items:center;gap:10px;
      transition: transform .12s ease, filter .12s ease, box-shadow .12s ease;
      white-space:nowrap;
    }
    .btn:active{transform:translateY(1px)}
    .btn.primary{
      color:white;
      background: linear-gradient(135deg, var(--blue), var(--blue2));
      box-shadow: 0 14px 32px rgba(0,175,240,.22);
    }
    .btn.primary:hover{filter:brightness(1.03);transform:translateY(-1px)}
    .btn.ghost{
      background:white;border:1px solid var(--line);color:var(--ink);
      box-shadow:none;
    }

    /* Cards */
    .card{
      background:rgba(255,255,255,.92);
      border:1px solid var(--line);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      overflow:hidden;
    }

    /* Hero */
    .hero{padding:46px 0 22px}
    .hero-grid{
      display:grid;grid-template-columns: 1.05fr .95fr;
      gap:18px;align-items:stretch;
    }
    @media(max-width:980px){.hero-grid{grid-template-columns:1fr}}

    .hero-copy{padding:26px; position:relative;}
    .hero-copy:before,.hero-copy:after{
      content:"üç™"; position:absolute; opacity:.18; font-size:22px; filter:saturate(1.1);
    }
    .hero-copy:before{left:14px; top:14px; transform:rotate(-12deg);}
    .hero-copy:after{right:18px; bottom:18px; transform:rotate(18deg);}

    .kicker{
      display:inline-flex;align-items:center;gap:10px;
      font-size:12px;color:var(--muted);
      padding:9px 12px;border-radius:999px;
      border:1px solid var(--line);
      background:rgba(255,255,255,.80);
    }
    .dot{
      width:8px;height:8px;border-radius:999px;
      background:var(--blue);
      box-shadow:0 0 0 6px rgba(0,175,240,.14);
    }
    h1{
      margin:14px 0 10px;
      font-size:44px;line-height:1.02;letter-spacing:-1px;
    }
    .sub{
      margin:0 0 10px;
      color:var(--muted);
      line-height:1.58;
      font-size:16px;
      max-width:64ch;
    }
    .how{
      display:flex;flex-wrap:wrap;gap:10px;
      color:var(--muted);
      font-size:13px;
      margin-top:10px;
    }
    .how span{
      display:inline-flex;align-items:center;gap:8px;
      padding:8px 10px;border-radius:999px;
      border:1px solid var(--line);
      background:rgba(255,255,255,.75);
    }

    .cta-row{display:flex;gap:10px;flex-wrap:wrap;align-items:center;margin-top:14px}

    .social{
      margin-top:12px;
      display:flex;gap:10px;flex-wrap:wrap;
      color:var(--muted);font-size:12px;
    }
    .tag{
      padding:8px 10px;border-radius:999px;
      border:1px solid var(--line);
      background:rgba(255,255,255,.75);
    }
    .stars{
      display:inline-flex;align-items:center;gap:8px;
      padding:8px 10px;border-radius:999px;
      border:1px solid rgba(0,175,240,.22);
      background:rgba(0,175,240,.08);
      color:var(--ink);
      font-weight:800;
    }

    /* Trust bar */
    .trustbar{
      margin-top:12px;
      padding:12px 14px;
      border-radius:16px;
      border:1px solid rgba(0,175,240,.22);
      background:
        linear-gradient(135deg, rgba(0,175,240,.10), rgba(43,124,255,.06)),
        rgba(255,255,255,.86);
      box-shadow: var(--shadow2);
      display:flex;align-items:center;justify-content:space-between;gap:10px;flex-wrap:wrap;
    }
    .trustbar b{font-size:12px;letter-spacing:.2px}
    .trustitems{display:flex;gap:10px;flex-wrap:wrap;color:var(--muted);font-size:13px}
    .trustitems span{
      white-space:nowrap;
      display:inline-flex;align-items:center;gap:8px;
      padding:7px 10px;border-radius:999px;
      border:1px solid rgba(11,27,42,.08);
      background:rgba(255,255,255,.72);
    }
    .partner{
      display:flex;gap:8px;align-items:center;flex-wrap:wrap;
    }
    .partner .logo-pill{
      font-size:12px;font-weight:900;
      padding:7px 10px;border-radius:999px;
      border:1px solid rgba(11,27,42,.10);
      background:rgba(255,255,255,.82);
      color:var(--ink);
    }

    /* Hero Visual */
    .visual-card{
      padding:18px;
      display:flex;align-items:center;justify-content:center;
      background:
        radial-gradient(520px 220px at 30% 10%, rgba(196,135,82,.18), transparent 62%),
        linear-gradient(135deg, rgba(0,175,240,.10), rgba(255,255,255,.95));
    }
    .visual-wrap{
      position:relative;
      width:min(520px,100%);
      padding:18px 18px 14px;
      border-radius:20px;
      border:1px solid var(--line);
      background:rgba(255,255,255,.72);
      box-shadow:var(--shadow);
      overflow:hidden;
    }
    .stamp{
      position:absolute; right:14px; top:14px;
      padding:8px 10px;border-radius:999px;
      background:linear-gradient(135deg,var(--blue),var(--blue2));
      color:white;font-weight:900;font-size:12px;
      box-shadow:0 12px 26px rgba(0,175,240,.20);
      transform:rotate(-8deg);
    }
    .hero-img{
      width:100%;
      border-radius:18px;
      border:1px solid rgba(11,27,42,.10);
      box-shadow:0 14px 30px rgba(11,27,42,.10);
      display:block;
      aspect-ratio: 16/10;
      object-fit: cover;
      background: linear-gradient(135deg, rgba(255,105,180,.12), rgba(0,175,240,.10));
    }
    .visual-caption{
      margin-top:10px;
      color:var(--muted);
      font-size:12px;
      text-align:center;
      line-height:1.45;
    }

    /* Benefits */
    .benefits{padding:18px 0 26px}
    .benefit-grid{
      display:grid;
      grid-template-columns:repeat(4,1fr);
      gap:12px;
    }
    @media(max-width:980px){.benefit-grid{grid-template-columns:1fr 1fr}}
    @media(max-width:560px){.benefit-grid{grid-template-columns:1fr}}
    .benefit{
      padding:16px;
      border-radius:16px;
      border:1px solid var(--line);
      background:rgba(255,255,255,.90);
      box-shadow:var(--shadow2);
      color:var(--muted);
      font-size:14px;
      position:relative;
      overflow:hidden;
    }
    .benefit:after{
      content:"üç™";
      position:absolute; right:12px; top:10px;
      opacity:.14; font-size:22px; transform:rotate(12deg);
    }
    .benefit b{display:block;color:var(--ink);margin-bottom:6px}
    .benefit .emo{font-size:18px;margin-right:6px}

    /* Section spacing rhythm */
    .section{padding:26px 0}
    .flow-card{padding:18px}
    .flow-head{
      display:flex;align-items:center;justify-content:space-between;gap:10px;flex-wrap:wrap;
      margin-bottom:12px;
    }
    .flow-head h2{margin:0;font-size:18px;letter-spacing:-.2px}
    .tiny-links{display:flex;gap:12px;flex-wrap:wrap;color:var(--muted);font-size:12px}
    .tiny-links a{border-bottom:1px dotted rgba(11,27,42,.28)}
    .divider{height:1px;background:var(--line);margin:12px 0}

    /* Stepper */
    .stepper{display:flex;gap:10px;flex-wrap:wrap}
    .step{
      padding:10px 12px;border-radius:999px;
      border:1px solid var(--line);
      background:white;
      color:var(--muted);
      font-weight:900;
      font-size:12px;
      transition: transform .12s ease, background .12s ease, box-shadow .12s ease;
      user-select:none;
      min-height:44px;
    }
    .step:hover{transform:translateY(-1px);background:rgba(0,175,240,.06)}
    .step.active{
      color:var(--ink);
      border-color: rgba(0,175,240,.35);
      box-shadow: var(--shadow2);
      background:rgba(0,175,240,.10);
    }

    /* Panels */
    .panel{display:none}
    .panel.active{display:block}

    .grid2{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    @media(max-width:900px){.grid2{grid-template-columns:1fr}}

    .field{
      border:1px solid var(--line);
      background:white;
      border-radius:14px;
      padding:12px;
      box-shadow: var(--shadow2);
    }
    label{display:block;font-size:12px;color:var(--muted);font-weight:900;margin-bottom:8px}
    input, textarea, select{
      width:100%;
      border:1px solid rgba(11,27,42,.14);
      background:white;
      border-radius:12px;
      padding:12px 12px;
      font: inherit;
      outline:none;
      min-height:48px;
    }
    textarea{min-height:120px;resize:vertical}

    /* Chips */
    .chips{display:flex;gap:10px;flex-wrap:wrap}
    .chip{
      font-size:13px;font-weight:900;color:var(--ink);
      padding:10px 12px;border-radius:999px;
      border:1px solid var(--line);
      background:white;
      transition: transform .12s ease, background .12s ease;
      min-height:44px;
    }
    .chip:hover{transform:translateY(-1px);background:rgba(255,105,180,.08)}

    .summary{
      border:1px dashed rgba(0,175,240,.35);
      background:rgba(0,175,240,.06);
      border-radius:14px;
      padding:12px;
      color:var(--muted);
      font-size:13px;line-height:1.45;
      flex:1 1 320px;
    }

    .actions{
      display:flex;align-items:center;justify-content:space-between;gap:10px;flex-wrap:wrap;
      margin-top:12px;
    }
    .right{display:flex;gap:10px;flex-wrap:wrap;justify-content:flex-end}

    .hint{font-size:12px;color:var(--muted);margin-top:4px}
    .err{font-size:12px;color:var(--danger);margin-top:4px}

    /* FAQ */
    .faq-card{padding:18px}
    .faq-grid{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    @media(max-width:900px){.faq-grid{grid-template-columns:1fr}}
    .faq-item{padding:14px;border-radius:16px;border:1px solid var(--line);background:rgba(255,255,255,.92);box-shadow:var(--shadow2)}
    .faq-item b{display:block;margin-bottom:6px}

    /* Newsletter */
    .newsletter{
      display:flex;gap:10px;flex-wrap:wrap;align-items:center;margin-top:12px;
    }
    .newsletter input{flex:1 1 220px}
    .newsletter .btn{min-height:48px}

    /* Footer */
    footer{
      margin-top:28px;
      padding:22px 0 34px;
      border-top:1px solid var(--line);
      background:rgba(255,255,255,.68);
      color:var(--muted);
      font-size:12px;
    }
    .footer-links{display:flex;gap:14px;flex-wrap:wrap}
    .footer-links a{border-bottom:1px dotted rgba(11,27,42,.28)}
    .social-links{display:flex;gap:12px;flex-wrap:wrap;margin-top:10px}
    .social-links a{border:1px solid rgba(11,27,42,.10); background:rgba(255,255,255,.75); padding:8px 10px; border-radius:999px}

    /* Consent */
    .consent{
      position:fixed; left:14px; right:14px; bottom:14px;
      z-index:60;
      display:none;
    }
    .consent .card{
      padding:14px;
      border-radius:16px;
      box-shadow:var(--shadow);
      background:rgba(255,255,255,.94);
    }
    .consent-row{display:flex;gap:10px;flex-wrap:wrap;align-items:center;justify-content:space-between}
    .consent p{margin:0;color:var(--muted);font-size:12px;line-height:1.4}
    .consent-actions{display:flex;gap:10px;flex-wrap:wrap;justify-content:flex-end}
    .consent a{border-bottom:1px dotted rgba(11,27,42,.28)}
    .consent .btn{min-height:44px;padding:12px 14px}

    @media(max-width:520px){
      .hero{padding:30px 0 14px}
      h1{font-size:32px}
      .hero-copy{padding:18px}
      .visual-wrap{padding:14px}
    }

    @media (prefers-reduced-motion: reduce){
      #cookieRain{ display:none; }
      *{ scroll-behavior:auto !important; }
    }

    /* =======================
       DEKOFRAU-MOUSE (Hovers)
    ======================= */
    @media (prefers-reduced-motion: no-preference){
      .card, .benefit, .faq-item, .field, .visual-wrap{
        transition: transform .18s ease, box-shadow .18s ease, border-color .18s ease;
      }

      .card:hover, .benefit:hover, .faq-item:hover, .field:hover, .visual-wrap:hover{
        transform: translateY(-2px);
        box-shadow: 0 18px 60px rgba(11,27,42,.14);
        border-color: rgba(0,175,240,.22);
      }

      .btn.primary{
        position: relative;
        overflow: hidden;
      }

      .btn.primary::after{
        content:"";
        position:absolute; inset:-40%;
        background: radial-gradient(circle at 30% 30%, rgba(255,255,255,.55), transparent 55%);
        transform: translateX(-20%) translateY(-10%);
        opacity: 0;
        transition: opacity .18s ease;
        pointer-events:none;
      }
      .btn.primary:hover::after{ opacity: .55; }

      .chip:hover, .step:hover{
        transform: translateY(-1px);
      }
    }

    .trustbar b::after{ content:" üç™"; opacity:.9; }
    .benefit b::before{ content:"üç™ "; }

    /* =======================
       PACK-TILES (MERGED)
    ======================= */
    select#pack.is-hidden{
      position:absolute; left:-9999px; width:1px; height:1px; opacity:0;
    }

    .pack-tiles{
      display:grid;
      grid-template-columns:repeat(3, minmax(0,1fr));
      gap:10px;
      margin-top:10px;
    }

    .pack-tile{
      position:relative;
      text-align:left;
      padding:12px;
      border-radius:18px;
      border:1px solid var(--line);
      background:rgba(255,255,255,.86);
      cursor:pointer;
      transition:transform .12s ease, box-shadow .12s ease, border-color .12s ease;
    }

    .pack-tile:hover{ transform:translateY(-1px); }
    .pack-tile:focus{
      outline:2px solid rgba(255,105,180,.28);
      outline-offset:2px;
    }

    .pack-head{ display:flex; justify-content:space-between; align-items:baseline; gap:10px; }
    .pack-name{ font-weight:900; color:var(--ink); letter-spacing:.2px; }
    .pack-price{ font-size:12px; color:var(--muted); }

    .pack-sub{
      margin-top:6px;
      font-size:12px;
      color:var(--muted);
      line-height:1.25;
    }

    .pack-badge{
      position:absolute; top:10px; right:10px;
      font-size:11px; font-weight:900;
      padding:6px 10px; border-radius:999px;
      border:1px solid rgba(255,105,180,.28);
      background:rgba(255,105,180,.10);
      color:var(--ink);
      box-shadow:0 10px 22px rgba(255,105,180,.10);
    }

    .pack-tile.is-active{
      border-color:rgba(0,175,240,.45);
      box-shadow:0 14px 38px rgba(0,175,240,.14);
      background:rgba(255,255,255,.95);
    }

    .pack-tile.is-popular.is-active{
      background:
        linear-gradient(180deg, rgba(255,230,242,.55), rgba(255,255,255,.95));
    }

    .pack-hint{
      margin-top:8px;
      font-size:12px;
      color:var(--muted);
    }

    @media (max-width:640px){
      .pack-tiles{ grid-template-columns:1fr; }
    }
  </style>
</head>

<body>
  <canvas id="cookieRain" aria-hidden="true"></canvas>

  <header>
    <div class="container">
      <div class="nav">
        <a class="brand" href="#top" aria-label="OnlyKeks Start">
          <span class="logo" aria-hidden="true"></span>
          <span>
            <b>OnlyKeks</b>
            <small>Post die schmeckt</small>
          </span>
        </a>

        <div class="nav-actions">
          <span class="pill">One page ¬∑ One CTA ¬∑ Reply-Loop üç™</span>
          <a class="btn primary" id="navCta" href="#flow">üç™ Reply-Keks starten</a>
        </div>
      </div>
    </div>
  </header>

  <main id="top">
    <section class="hero" aria-label="Hero">
      <div class="container hero-grid">
        <div class="card hero-copy">
          <span class="kicker"><span class="dot"></span>Post, die man wirklich f√ºhlt ‚úâÔ∏è</span>

          <h1 id="heroH1">Schicke s√º√üe Botschaften<br/>mit direkter QR-Antwort.</h1>
          <p class="sub" id="heroSub">
            Du schickst 1 Keks mit Message & QR-Reply. Empf√§nger scannt ‚Üí antwortet ‚Üí wir machen den Reply-Keks ‚Üí zur√ºck. üì©
          </p>

          <div class="how" aria-label="Ablauf">
            <span aria-label="Schritt 1">üç™ Keks w√§hlen</span>
            <span aria-label="Schritt 2">‚úçÔ∏è Botschaft schreiben</span>
            <span aria-label="Schritt 3">üì± QR scannen</span>
            <span aria-label="Schritt 4">üíå Antwort erhalten</span>
          </div>

          <div class="cta-row">
            <a class="btn primary" id="heroCta" href="#flow">üç™ Reply-Keks starten</a>
            <a class="btn ghost" href="#faq">Kurz erkl√§rt</a>
          </div>

          <div class="trustbar" role="note" aria-label="Versand & Sicherheit">
            <b>STANDARD</b>
            <div class="trustitems">
              <span title="Versand"><span aria-hidden="true">üì¶</span> 2‚Äì3 Werktage</span>
              <span title="Tracking"><span aria-hidden="true">üîé</span> Trackbar</span>
              <span title="Zahlung"><span aria-hidden="true">üîí</span> Sicher zahlen</span>
              <span title="Allergene"><span aria-hidden="true">‚ö†Ô∏è</span> Allergene</span>
            </div>
            <div class="partner" aria-label="Partner">
              <span class="logo-pill" aria-label="Versandpartner">DHL</span>
              <span class="logo-pill" aria-label="Paymentpartner">Stripe</span>
            </div>
          </div>

          <div class="social" aria-label="Status & Social Proof">
            <span class="tag">Pilot / Early Access</span>
            <span class="tag">Kein Account im MVP</span>
            <span class="tag">Checkout √ºber Stripe</span>
            <span class="stars" aria-label="Bewertung">‚≠ê 4,9/5 ¬∑ 300 Sendungen</span>
          </div>
        </div>

        <div class="card visual-card" aria-label="Emotionale Bildwelt">
          <div class="visual-wrap">
            <span class="stamp">REPLY</span>

            <img
              id="heroImg"
              class="hero-img"
              src="assets/hero.jpg"
              alt="Person h√§lt einen Keks, scannt den QR-Code und freut sich √ºber die Antwort"
              loading="lazy" />

            <div class="visual-caption">
              Emotionaler Moment: Keks in der Hand ‚Üí QR-Scan ‚Üí Reply-Grinsen. üç™üì±üôÇ
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="benefits" aria-label="Vorteile">
      <div class="container benefit-grid">
        <div class="benefit"><b><span class="emo" aria-hidden="true">üç™</span>√úberraschungseffekt</b>Briefkasten-Moment, den man wahrnimmt.</div>
        <div class="benefit"><b><span class="emo" aria-hidden="true">üì±</span>Antwort per QR</b>Scan ‚Üí Text ‚Üí Adresse ‚Üí fertig.</div>
        <div class="benefit"><b><span class="emo" aria-hidden="true">üíå</span>Pers√∂nlich & essbar</b>Message mit Gef√ºhl statt Papier.</div>
        <div class="benefit"><b><span class="emo" aria-hidden="true">‚ú®</span>Viral weiterleitbar</b>Empf√§nger kann direkt zur√ºcksenden.</div>
      </div>
    </section>

    <section class="section" id="flow" aria-label="Reply Flow">
      <div class="container">
        <div class="card flow-card">
          <div class="flow-head">
            <h2>Reply-Flow</h2>
            <div class="tiny-links">
              <a href="#footer">Impressum</a>
              <a href="#footer">Versand</a>
              <a href="#footer">Allergene</a>
            </div>
          </div>

          <div class="stepper" role="tablist" aria-label="Schritte">
            <button type="button" class="step active" id="step1" data-step="1" aria-controls="p1" aria-label="Schritt 1: Nachricht">‚úçÔ∏è 1) Nachricht</button>
            <button type="button" class="step" id="step2" data-step="2" aria-controls="p2" aria-label="Schritt 2: Adresse">üè† 2) Adresse</button>
            <button type="button" class="step" id="step3" data-step="3" aria-controls="p3" aria-label="Schritt 3: Bezahlen">üí≥ 3) Bezahlen</button>
          </div>

          <div class="divider"></div>

          <!-- Panel 1 -->
          <div class="panel active" id="p1" role="tabpanel" aria-labelledby="step1">
            <div class="grid2">
              <div class="field">
                <label for="pack">Paket</label>

                <!-- Select bleibt Source of Truth (hidden) -->
                <select id="pack" class="is-hidden" aria-label="Paket w√§hlen (Fallback)">
                  <option value="Quick">Quick</option>
                  <option value="Custom" selected>Custom</option>
                  <option value="Premium">Premium</option>
                </select>

                <!-- Tiles -->
                <div class="pack-tiles" id="packTiles" role="radiogroup" aria-label="Paket w√§hlen" tabindex="0">
                  <button type="button" class="pack-tile" data-pack="Quick" role="radio" aria-checked="false">
                    <div class="pack-head">
                      <span class="pack-name">Quick</span>
                      <span class="pack-price">ab 9,90 ‚Ç¨</span>
                    </div>
                    <div class="pack-sub">s√º√ü & schnell ‚Ä¢ perfekt f√ºr ‚Äûnur kurz was sagen‚Äú</div>
                  </button>

                  <button type="button" class="pack-tile is-popular is-active" data-pack="Custom" role="radio" aria-checked="true">
                    <div class="pack-badge">Beliebt</div>
                    <div class="pack-head">
                      <span class="pack-name">Custom</span>
                      <span class="pack-price">ab 14,90 ‚Ç¨</span>
                    </div>
                    <div class="pack-sub">dein Standard ‚Ä¢ mehr Deko ‚Ä¢ mehr ‚Äûawww‚Äú</div>
                  </button>

                  <button type="button" class="pack-tile" data-pack="Premium" role="radio" aria-checked="false">
                    <div class="pack-head">
                      <span class="pack-name">Premium</span>
                      <span class="pack-price">ab 29,90 ‚Ç¨</span>
                    </div>
                    <div class="pack-sub">Box & extra Wow ‚Ä¢ ideal als kleines Geschenk</div>
                  </button>
                </div>

                <div class="pack-hint" id="packHint">Custom ¬∑ ab 14,90 ‚Ç¨ ¬∑ Standard (beliebt)</div>
              </div>

              <div class="field">
                <label>Templates</label>
                <div class="chips">
                  <button class="chip" data-msg="Reply oder du bist feige." type="button" aria-label="Template Frech ausw√§hlen">üòà Frech</button>
                  <button class="chip" data-msg="Ich denk an dich. Reply, wenn du l√§chelst." type="button" aria-label="Template Love ausw√§hlen">üíó Love</button>
                  <button class="chip" data-msg="Du schaffst das. Reply ‚Äì ich glaub an dich." type="button" aria-label="Template Motivation ausw√§hlen">üî• Motivation</button>
                  <button class="chip" data-msg="Kurzer Ping. Reply per QR ‚Äì dann machen wir Deal." type="button" aria-label="Template Business ausw√§hlen">ü§ù Business</button>
                </div>
              </div>
            </div>

            <div class="field" style="margin-top:12px">
              <label for="msg">Deine Nachricht</label>
              <textarea id="msg"
                        aria-describedby="msgHint msgErr"
                        aria-invalid="false"
                        maxlength="500"
                        placeholder="Kurz, klar, f√ºhlbar‚Ä¶"></textarea>
              <div id="msgHint" class="hint">Kurz & klar. Max. 500 Zeichen.</div>
              <div id="msgErr" class="err" role="alert" aria-live="polite"></div>
            </div>

            <div class="actions">
              <div class="summary" id="sum1">Template w√§hlen oder frei tippen. Dann weiter zur Adresse.</div>
              <div class="right">
                <button class="btn primary" id="next1" type="button">Weiter</button>
              </div>
            </div>
          </div>

          <!-- Panel 2 -->
          <div class="panel" id="p2" role="tabpanel" aria-labelledby="step2" hidden>
            <div class="grid2">
              <div class="field">
                <label for="toName">Empf√§ngername</label>
                <input id="toName" placeholder="z.B. Marlon" autocomplete="given-name" />
              </div>
              <div class="field">
                <label for="fromName">Absendername</label>
                <input id="fromName" placeholder="z.B. Schmidti" autocomplete="name" />
              </div>
              <div class="field" style="grid-column:1/-1">
                <label for="toAddr">Stra√üe & Hausnummer, PLZ Ort</label>
                <input id="toAddr"
                       placeholder="Musterstra√üe 12, 12345 Berlin"
                       autocomplete="street-address"
                       inputmode="text"
                       aria-describedby="toAddrHint toAddrErr"
                       aria-invalid="false" />
                <div id="toAddrHint" class="hint">Beispiel: Musterstra√üe 12, 12345 Berlin</div>
                <div id="toAddrErr" class="err" role="alert" aria-live="polite"></div>
              </div>
            </div>

            <div class="actions">
              <div class="summary" id="sum2">Adresse pr√ºfen. Danach geht‚Äôs zum Checkout.</div>
              <div class="right">
                <button class="btn ghost" id="back2" type="button">Zur√ºck</button>
                <button class="btn primary" id="next2" type="button">Weiter</button>
              </div>
            </div>
          </div>

          <!-- Panel 3 -->
          <div class="panel" id="p3" role="tabpanel" aria-labelledby="step3" hidden>
            <div class="summary" id="sum3">
              Fast fertig. Klick auf ‚ÄûJetzt bezahlen‚Äú, dann geht‚Äôs zum sicheren Checkout.
            </div>

            <div class="actions">
              <div class="summary" style="max-width:520px">
                üì¶ Versand 2‚Äì3 Werktage ¬∑ üîé Trackbar ¬∑ üîí Sicher zahlen ¬∑ ‚ö†Ô∏è Allergene
              </div>

              <div class="right">
                <button class="btn ghost" id="back3" type="button">Zur√ºck</button>
                <a class="btn primary" id="payBtn" href="#" target="_blank" rel="noopener">Jetzt bezahlen</a>
              </div>
            </div>
          </div>

        </div>
      </div>
    </section>

    <section class="section" id="faq" aria-label="FAQ">
      <div class="container">
        <div class="card faq-card">
          <div class="flow-head">
            <h2>Kurz erkl√§rt</h2>
            <div class="tiny-links">
              <a href="#flow">Zum Flow</a>
              <a href="#footer">Versand</a>
            </div>
          </div>

          <div class="faq-grid">
            <div class="faq-item">
              <b>Was kommt an? üç™</b>
              Ein Keks, eine Karte und ein QR-Code f√ºr die Antwort.
            </div>
            <div class="faq-item">
              <b>Wie funktioniert der Reply? üì±</b>
              Empf√§nger scannt den QR-Code und antwortet direkt ‚Äì ohne Account.
            </div>
            <div class="faq-item">
              <b>Wie lange ist das haltbar? üì¶</b>
              Luftdicht verpackt mehrere Monate (Details im Produktblatt).
            </div>
            <div class="faq-item">
              <b>Allergene? ‚ö†Ô∏è</b>
              Enth√§lt Gluten. Weitere Angaben unter ‚ÄûAllergene‚Äú im Footer.
            </div>
          </div>

          <div style="margin-top:14px">
            <a class="btn primary" href="#flow">üç™ Reply-Keks starten</a>
          </div>

          <div class="newsletter" aria-label="Newsletter">
            <input id="newsEmail" type="email" placeholder="E-Mail f√ºr Newsletter (optional)" autocomplete="email" />
            <button class="btn ghost" id="newsBtn" type="button">‚ú® Updates bekommen</button>
          </div>
          <div class="hint">Optional. Kein Spam-Film.</div>
        </div>
      </div>
    </section>
  </main>

  <footer id="footer" aria-label="Footer">
    <div class="container">
      <div class="footer-links">
        <a href="#">Impressum</a>
        <a href="#">Wie wir mit Daten umgehen</a>
        <a href="#">AGB</a>
        <a href="#">Versand</a>
        <a href="#">Allergene</a>
      </div>

      <div class="social-links" aria-label="Social">
        <a href="#" aria-label="Instagram">Instagram</a>
        <a href="#" aria-label="TikTok">TikTok</a>
        <a href="#" aria-label="Pinterest">Pinterest</a>
      </div>

      <div style="margin-top:10px">¬© OnlyKeks ¬∑ Post die schmeckt</div>
    </div>
  </footer>

  <!-- Cookie Consent (Needed/Optional) -->
  <div class="consent" id="consent" role="dialog" aria-label="Cookie Einstellungen">
    <div class="card">
      <div class="consent-row">
        <p>
          Wir nutzen <b>notwendige Cookies</b>, um deinen Keks-Entwurf zu speichern. Optional: Analytics, damit wir kapieren, welche Kekse gefallen.
          <br/><a href="#">Wie wir mit Daten umgehen</a> ¬∑ <span style="white-space:nowrap">Wir verkaufen keine Daten.</span>
        </p>
        <div class="consent-actions">
          <button class="btn ghost" id="consentNecessary" type="button">Nur das N√∂tigste</button>
          <button class="btn primary" id="consentAll" type="button">Alles klar üç™</button>
        </div>
      </div>
    </div>
  </div>

  <script>
  /*** CONFIG: NUR HIER ANPASSEN ***/
  const STRIPE_PAYMENT_LINK = "https://buy.stripe.com/aBcDeFgHiJkLmNoPqR";

  // Analytics (nur nach Consent laden!)
  const GA_ID = "G-XXXXXXXXXX"; // TODO: ersetzen

  /* =======================
     A/B HERO (simple)
  ======================= */
  (function heroAB(){
    const key = "ok_ab_hero_v1";
    const v = localStorage.getItem(key) || (Math.random() < 0.5 ? "A" : "B");
    localStorage.setItem(key, v);

    const h1 = document.getElementById("heroH1");
    const sub = document.getElementById("heroSub");
    const cta = document.getElementById("heroCta");
    if(!h1 || !sub || !cta) return;

    if(v === "B"){
      h1.innerHTML = "Post, die schmeckt.<br/>Mit Reply in 3 Klicks.";
      sub.textContent = "Keks w√§hlen ‚Üí Nachricht ‚Üí QR-Reply. Kein Account, schneller Checkout.";
      cta.textContent = "‚ú® Jetzt Reply-Keks bauen";
      cta.dataset.ab = "B";
    } else {
      cta.dataset.ab = "A";
    }
  })();

  /* =======================
     FLOW LOGIC
  ======================= */
  const steps  = document.querySelectorAll(".step");
  const payBtn = document.getElementById("payBtn");

  const panels = {
    1: document.getElementById("p1"),
    2: document.getElementById("p2"),
    3: document.getElementById("p3"),
  };

  steps.forEach(s=>{
    s.setAttribute("role","tab");
    s.setAttribute("aria-selected","false");
  });

  function go(n){
    Object.entries(panels).forEach(([k,p])=>{
      if(!p) return;
      const on = (+k === n);
      p.classList.toggle("active", on);
      p.toggleAttribute("hidden", !on);
    });

    steps.forEach(s=>{
      const active = (+s.dataset.step === n);
      s.classList.toggle("active", active);
      s.setAttribute("aria-selected", active ? "true":"false");
      s.setAttribute("tabindex", active ? "0":"-1");
    });

    if(n === 3 && payBtn) payBtn.href = STRIPE_PAYMENT_LINK;
  }

  steps.forEach(s=>{
    s.addEventListener("click", () => {
      const step = +s.dataset.step;
      if (step === 3 && (!validateMessage() || !validateAddressDE())) return;
      go(step);
    });
  });

  /* Arrow keys (tabs) */
  const stepper = document.querySelector(".stepper");
  stepper?.addEventListener("keydown", (e) => {
    const active = document.activeElement;
    if (!active || active.tagName !== "BUTTON" || !active.classList.contains("step")) return;

    const all = Array.from(steps);
    const idx = all.indexOf(active);

    if (e.key === "ArrowRight" || e.key === "ArrowLeft") e.preventDefault();

    if (e.key === "ArrowRight") {
      const next = all[(idx + 1) % all.length];
      const step = +next.dataset.step;
      if (step === 3 && (!validateMessage() || !validateAddressDE())) return;
      next.focus();
      go(step);
    } else if (e.key === "ArrowLeft") {
      const prev = all[(idx - 1 + all.length) % all.length];
      prev.focus();
      go(+prev.dataset.step);
    } else if (e.key === "Enter" || e.key === " ") {
      e.preventDefault();
      const step = +active.dataset.step;
      if (step === 3 && (!validateMessage() || !validateAddressDE())) return;
      go(step);
    }
  });

  /* Swipe gestures (mobile) */
  (function enableSwipe(){
    const area = document.querySelector(".flow-card");
    if(!area) return;

    let sx=0, sy=0, st=0;
    area.addEventListener("touchstart", (e)=>{
      const t = e.touches[0];
      sx=t.clientX; sy=t.clientY; st=Date.now();
    }, {passive:true});

    area.addEventListener("touchend", (e)=>{
      const t = e.changedTouches[0];
      const dx=t.clientX - sx;
      const dy=t.clientY - sy;
      const dt=Date.now()-st;

      if(dt>600) return;
      if(Math.abs(dx) < 60) return;
      if(Math.abs(dy) > 80) return;

      const active = document.querySelector(".step.active");
      const all = Array.from(document.querySelectorAll(".step"));
      const idx = all.indexOf(active);
      if(idx < 0) return;

      const nextIdx = dx < 0 ? (idx+1)%all.length : (idx-1+all.length)%all.length;
      const step = +all[nextIdx].dataset.step;

      if(step === 3 && (!validateMessage() || !validateAddressDE())) return;
      go(step);
      all[nextIdx].focus?.();
    }, {passive:true});
  })();

  const msg = document.getElementById("msg");
  document.querySelectorAll(".chip").forEach(ch=>{
    ch.addEventListener("click", ()=>{
      if(msg) msg.value = ch.dataset.msg;
      updateSummaries();
    });
  });

  const next1 = document.getElementById("next1");
  const next2 = document.getElementById("next2");
  const back2 = document.getElementById("back2");
  const back3 = document.getElementById("back3");

  const toAddr = document.getElementById("toAddr");
  const sum1 = document.getElementById("sum1");
  const sum2 = document.getElementById("sum2");
  const sum3 = document.getElementById("sum3");
  const pack = document.getElementById("pack");
  const toName = document.getElementById("toName");
  const fromName = document.getElementById("fromName");

  function esc(s){
    return String(s||"")
      .replaceAll("&","&amp;")
      .replaceAll("<","&lt;")
      .replaceAll(">","&gt;")
      .replaceAll('"',"&quot;");
  }

  function priceFor(p){
    if(p === "Quick") return 9.90;
    if(p === "Custom") return 14.90;
    return 29.90;
  }

  function updateSummaries(){
    const p = pack ? pack.value : "Custom";
    const price = priceFor(p);
    const m = msg ? msg.value.trim() : "";
    sum1 && (sum1.innerHTML =
      `<b>Preview:</b> Paket <b>${esc(p)}</b> ¬∑ <span style="color:var(--muted)">${price.toFixed(2)} ‚Ç¨</span><br/>‚Äû${esc(m||"‚Ä¶")}‚Äú`
    );

    const tn = toName ? toName.value.trim() : "";
    const fn = fromName ? fromName.value.trim() : "";
    const ta = toAddr ? toAddr.value.trim() : "";
    sum2 && (sum2.innerHTML =
      `<b>Check:</b> Empf√§nger <b>${esc(tn||"‚Äî")}</b> ¬∑ Absender <b>${esc(fn||"‚Äî")}</b><br/>Adresse: ${esc(ta||"‚Äî")}`
    );

    const ship = (p === "Premium") ? 0 : 2.90;
    const total = price + ship;
    sum3 && (sum3.innerHTML =
      `<b>Checkout:</b> Paket <b>${esc(p)}</b> ‚Äî ${price.toFixed(2)} ‚Ç¨ ¬∑ Versand ${ship.toFixed(2)} ‚Ç¨<br/>
       <b>Gesamt: ${total.toFixed(2)} ‚Ç¨</b><br/>
       <span style="color:var(--muted)">Nachricht:</span> ‚Äû${esc(m||"‚Ä¶")}‚Äú`
    );
  }

  function debounce(fn, wait=120){
    let t;
    return (...args)=>{
      clearTimeout(t);
      t = setTimeout(()=>fn(...args), wait);
    };
  }
  const updateSummariesDebounced = debounce(updateSummaries, 120);

  function validateMessage(){
    const v = (msg?.value || "").trim();
    const err = document.getElementById("msgErr");
    if (!v || v.length < 3){
      msg?.setAttribute("aria-invalid","true");
      err && (err.textContent = "Bitte eine kurze Nachricht (mind. 3 Zeichen).");
      msg?.focus();
      return false;
    }
    msg?.setAttribute("aria-invalid","false");
    err && (err.textContent = "");
    return true;
  }

  function validateAddressDE(){
    const v = (toAddr?.value || "").trim();
    const err = document.getElementById("toAddrErr");

    const re = /.+\s+\d+.*[, ]\s*\d{5}\s+.+/;
    if (!re.test(v)){
      toAddr?.setAttribute("aria-invalid","true");
      err && (err.textContent = "Adresse unvollst√§ndig. Beispiel: Musterstra√üe 12, 12345 Berlin");
      toAddr?.focus();
      return false;
    }
    toAddr?.setAttribute("aria-invalid","false");
    err && (err.textContent = "");
    return true;
  }

  next1 && next1.addEventListener("click", ()=>{
    updateSummaries();
    go(2);
    document.getElementById("toName")?.focus();
  });

  back2 && back2.addEventListener("click", ()=>{ updateSummaries(); go(1); });

  next2 && next2.addEventListener("click", ()=>{
    updateSummaries();
    const ok = validateMessage() && validateAddressDE();
    if(!ok) return;
    go(3);
  });

  back3 && back3.addEventListener("click", ()=>{ updateSummaries(); go(2); });

  [pack, msg, toName, fromName, toAddr].forEach(el=>{
    el && el.addEventListener("input", updateSummariesDebounced);
    el && el.addEventListener("change", updateSummariesDebounced);
  });

  msg?.addEventListener("blur", validateMessage);
  toAddr?.addEventListener("blur", validateAddressDE);

  /* =======================
     PACK-TILES (MERGED INIT)
     - nutzt #pack als Source of Truth
     - triggert change -> Summaries + evtl. andere Listener
  ======================= */
  (function initPackTiles(){
    const packEl = document.getElementById("pack");
    const tilesWrap = document.getElementById("packTiles");
    const hintEl = document.getElementById("packHint");
    if(!packEl || !tilesWrap) return;

    const labelMap = {
      Quick:  "Quick ¬∑ ab 9,90 ‚Ç¨ ¬∑ s√º√ü & schnell",
      Custom: "Custom ¬∑ ab 14,90 ‚Ç¨ ¬∑ Standard (beliebt)",
      Premium:"Premium ¬∑ ab 29,90 ‚Ç¨ ¬∑ Box & extra Wow"
    };

    function setPack(p){
      packEl.value = p;

      tilesWrap.querySelectorAll(".pack-tile").forEach(btn=>{
        const on = btn.dataset.pack === p;
        btn.classList.toggle("is-active", on);
        btn.setAttribute("aria-checked", on ? "true" : "false");
      });

      if(hintEl) hintEl.textContent = labelMap[p] || labelMap.Custom;

      // feuert deine bestehenden change-Listener (Summaries etc.)
      packEl.dispatchEvent(new Event("change", { bubbles:true }));
    }

    tilesWrap.addEventListener("click", (e)=>{
      const btn = e.target.closest(".pack-tile");
      if(!btn) return;
      setPack(btn.dataset.pack);
    });

    tilesWrap.addEventListener("keydown", (e)=>{
      const keys = ["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"];
      if(!keys.includes(e.key)) return;

      const tiles = [...tilesWrap.querySelectorAll(".pack-tile")];
      const active = Math.max(0, tiles.findIndex(t => t.classList.contains("is-active")));
      let next = active;

      if(e.key==="ArrowLeft" || e.key==="ArrowUp") next = Math.max(0, active - 1);
      if(e.key==="ArrowRight"|| e.key==="ArrowDown") next = Math.min(tiles.length - 1, active + 1);

      tiles[next]?.focus();
      const np = tiles[next]?.dataset.pack;
      if(np) setPack(np);
      e.preventDefault();
    });

    packEl.addEventListener("change", ()=> {
      const v = packEl.value || "Custom";
      if(hintEl) hintEl.textContent = labelMap[v] || labelMap.Custom;
      tilesWrap.querySelectorAll(".pack-tile").forEach(btn=>{
        const on = btn.dataset.pack === v;
        btn.classList.toggle("is-active", on);
        btn.setAttribute("aria-checked", on ? "true" : "false");
      });
    });

    setPack(packEl.value || "Custom");
  })();

  go(1);
  if(payBtn) payBtn.href = STRIPE_PAYMENT_LINK;
  updateSummaries();

  /* =======================
     Cookie Consent + Analytics
  ======================= */
  const CONSENT_KEY = "ok_consent_v1"; // { necessary:true, analytics:true }
  const consentEl = document.getElementById("consent");
  const btnNecessary = document.getElementById("consentNecessary");
  const btnAll = document.getElementById("consentAll");

  function readConsent(){
    try { return JSON.parse(localStorage.getItem(CONSENT_KEY) || "null"); }
    catch { return null; }
  }
  function writeConsent(obj){
    localStorage.setItem(CONSENT_KEY, JSON.stringify(obj));
  }

  function loadGA(){
    if(!GA_ID || GA_ID === "G-XXXXXXXXXX") return;
    if(document.getElementById("gaScript")) return;

    const s1 = document.createElement("script");
    s1.id = "gaScript";
    s1.async = true;
    s1.src = "https://www.googletagmanager.com/gtag/js?id=" + encodeURIComponent(GA_ID);
    document.head.appendChild(s1);

    window.dataLayer = window.dataLayer || [];
    window.gtag = function(){ dataLayer.push(arguments); };
    gtag("js", new Date());
    gtag("config", GA_ID, { anonymize_ip: true });
  }

  function applyConsent(c){
    if(!c) return;
    if(c.analytics) loadGA();
  }

  const existing = readConsent();
  if(!existing){
    consentEl.style.display = "block";
  } else {
    applyConsent(existing);
  }

  btnNecessary?.addEventListener("click", ()=>{
    writeConsent({necessary:true, analytics:false});
    consentEl.style.display = "none";
  });
  btnAll?.addEventListener("click", ()=>{
    writeConsent({necessary:true, analytics:true});
    applyConsent({necessary:true, analytics:true});
    consentEl.style.display = "none";
  });

  function track(name, params={}){
    if(typeof window.gtag === "function"){
      window.gtag("event", name, params);
    }
  }
  document.getElementById("heroCta")?.addEventListener("click", ()=>track("cta_click",{where:"hero", ab: document.getElementById("heroCta")?.dataset.ab || "?"}));
  document.getElementById("navCta")?.addEventListener("click", ()=>track("cta_click",{where:"nav"}));
  document.getElementById("payBtn")?.addEventListener("click", ()=>track("pay_click",{where:"flow"}));

  document.getElementById("newsBtn")?.addEventListener("click", ()=>{
    const v = (document.getElementById("newsEmail")?.value || "").trim();
    if(!v) return alert("Bitte E-Mail eintragen.");
    track("newsletter_submit",{where:"faq"});
    alert("Danke! (MVP: hier sp√§ter echte Newsletter-Anbindung)");
  });

  /* =======================
     COOKIE RAIN (DPR safe)
  ======================= */
  const reduce = window.matchMedia?.("(prefers-reduced-motion: reduce)")?.matches;
  const c = document.getElementById("cookieRain");
  if(c && !reduce){
    const ctx = c.getContext("2d");

    function resize(){
      const dpr = window.devicePixelRatio || 1;

      c.width  = Math.floor(innerWidth  * dpr);
      c.height = Math.floor(innerHeight * dpr);

      c.style.width  = `${innerWidth}px`;
      c.style.height = `${innerHeight}px`;

      ctx.setTransform(1,0,0,1,0,0);
      ctx.scale(dpr, dpr);
    }
    resize();
    addEventListener("resize", resize);

    const cookies = [...Array(30)].map(() => ({
      x: Math.random()*innerWidth,
      y: Math.random()*innerHeight,
      r: 10 + Math.random()*22,
      v: 0.6 + Math.random()*1.4
    }));

    let last = 0;
    const FPS = 30;
    const frameInterval = 1000 / FPS;

    function draw(ts){
      if (document.hidden) { requestAnimationFrame(draw); return; }
      if (ts - last < frameInterval) { requestAnimationFrame(draw); return; }
      last = ts;

      ctx.clearRect(0, 0, innerWidth, innerHeight);
      cookies.forEach(o=>{
        o.y += o.v;
        if(o.y > innerHeight) o.y = -50;
        ctx.beginPath();
        ctx.arc(o.x,o.y,o.r,0,Math.PI*2);
        ctx.fillStyle = "#c48752";
        ctx.fill();
      });
      requestAnimationFrame(draw);
    }
    requestAnimationFrame(draw);
  }
  </script>
</body>
</html>
